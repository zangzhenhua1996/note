



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="学习笔记">
      
      
        <link rel="canonical" href="https://zangzhenhua1996.github.io/note/python-web/028 cookies池搭建/">
      
      
        <meta name="author" content="臧珍华">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>028 cookies池搭建 - 臧珍华的博客</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#757575">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#102-cookies" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://zangzhenhua1996.github.io/note/" title="臧珍华的博客" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              臧珍华的博客
            </span>
            <span class="md-header-nav__topic">
              
                028 cookies池搭建
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://www.jianshu.com/u/21b46dcb7c44" title="前往 Github 仓库" class="md-source" data-md-source="">
  
  <div class="md-source__repository">
    I love AnFei
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        介绍
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../情感语录/001 吾日三省吾身/" class="md-tabs__link">
          情感语录
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../python学习/074 IntellIJ Idea内存不足时怎么设置/" class="md-tabs__link">
          python
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../038 Selenium的WebDriver API元素定位中的XPath和CSS/" class="md-tabs__link md-tabs__link--active">
          python web
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../数据结构与算法Python/09-图_problem-solving-with-algorithms-and-data-structure-usingpython-中文/" class="md-tabs__link">
          python 数据结构与算法
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../机器学习/013 进入tensorboard/" class="md-tabs__link">
          机器学习
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../深度学习/010 一文详解深度学习中的Normalization：BNLNWN/" class="md-tabs__link">
          深度学习
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../力扣刷题/066-质因数/" class="md-tabs__link">
          每天一道力扣题
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../java学习/029-IntelliJ-IDEA-2019-快捷键终极大全/" class="md-tabs__link">
          java学习
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../数据库/013 Redis使用密码登录/" class="md-tabs__link">
          数据库
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../windows10系统使用/028 win10电脑无线wifi总是掉线断网怎么解决/" class="md-tabs__link">
          windows10系统使用
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../ubuntu系统的使用/054 ubuntu18.04VNC远程配置/" class="md-tabs__link">
          ubuntu系统的使用
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../未分类/010 ssh远程链接服务器，避免因断网而中断训练方法/" class="md-tabs__link">
          未分类
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://zangzhenhua1996.github.io/note/" title="臧珍华的博客" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    臧珍华的博客
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://www.jianshu.com/u/21b46dcb7c44" title="前往 Github 仓库" class="md-source" data-md-source="">
  
  <div class="md-source__repository">
    I love AnFei
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="介绍" class="md-nav__link">
      介绍
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      情感语录
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        情感语录
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../情感语录/001 吾日三省吾身/" title="001 吾日三省吾身" class="md-nav__link">
      001 吾日三省吾身
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../情感语录/002 学校生活/" title="002 学校生活" class="md-nav__link">
      002 学校生活
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/074 IntellIJ Idea内存不足时怎么设置/" title="074 IntellIJ Idea内存不足时怎么设置" class="md-nav__link">
      074 IntellIJ Idea内存不足时怎么设置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/073 f-String - Python3 字符串格式化利器 - Python Weekly EP1/" title="073 f-String - Python3 字符串格式化利器 - Python Weekly EP1" class="md-nav__link">
      073 f-String - Python3 字符串格式化利器 - Python Weekly EP1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/072 14张思维导图构建python核心知识体系/" title="072 14张思维导图构建python核心知识体系" class="md-nav__link">
      072 14张思维导图构建python核心知识体系
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/071 IDEA几个常用的设置设置空格显示成小点、显示行数、 Ctrl + 鼠标滚轮 快捷键来控制代码字体大小显示、护眼背景色/" title="071 IDEA几个常用的设置:设置空格显示成小点、显示行数、 Ctrl + 鼠标滚轮 快捷键来控制代码字体大小显示、护眼背景色" class="md-nav__link">
      071 IDEA几个常用的设置:设置空格显示成小点、显示行数、 Ctrl + 鼠标滚轮 快捷键来控制代码字体大小显示、护眼背景色
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/070 部署mkdocs 到码云(gitee)/" title="070 部署mkdocs 到码云(gitee)" class="md-nav__link">
      070 部署mkdocs 到码云(gitee)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/069 如何快速的使用cmd激活环境并启动python脚本/" title="069 如何快速的使用cmd激活环境并启动python脚本" class="md-nav__link">
      069 如何快速的使用cmd激活环境并启动python脚本
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/067 Pycharm 运行程序后如何 如何查看变量的值/" title="067 Pycharm 运行程序后如何 如何查看变量的值" class="md-nav__link">
      067 Pycharm 运行程序后如何 如何查看变量的值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/066-spyder升级4.0全新版本/" title="066 spyder升级4.0全新版本" class="md-nav__link">
      066 spyder升级4.0全新版本
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/065-Jupyter Notebook 远程访问配置/" title="065 Jupyter_Notebook 远程访问配置" class="md-nav__link">
      065 Jupyter_Notebook 远程访问配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/064 python科学计算库Sympy指南/" title="064 python科学计算库Sympy指南" class="md-nav__link">
      064 python科学计算库Sympy指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/063-vscode-高亮提示/" title="063 vscode-高亮提示" class="md-nav__link">
      063 vscode-高亮提示
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/062-Python-os-path()-模块/" title="062 Python-os-path()-模块" class="md-nav__link">
      062 Python-os-path()-模块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/061-基于mkdocs-material搭建个人静态博客/" title="061 基于mkdocs-material搭建个人静态博客" class="md-nav__link">
      061 基于mkdocs-material搭建个人静态博客
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/060-vscode-ubuntu18-04-空格小/" title="060 vscode-ubuntu18-04-空格小" class="md-nav__link">
      060 vscode-ubuntu18-04-空格小
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/060-cuda及cudann的配置安装/" title="060 cuda及cudann的配置安装" class="md-nav__link">
      060 cuda及cudann的配置安装
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/059-在vscode中显示空格和tab符号/" title="059 在vscode中显示空格和tab符号" class="md-nav__link">
      059 在vscode中显示空格和tab符号
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/058-VS-code快捷键/" title="058 VS-code快捷键" class="md-nav__link">
      058 VS-code快捷键
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/057 B站缓存视频重命名/" title="057 B站缓存视频重命名" class="md-nav__link">
      057 B站缓存视频重命名
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/056 python中的全局变量/" title="056 python中的全局变量" class="md-nav__link">
      056 python中的全局变量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/055  Python 中 （&，）和（and，or）之间的区别/" title="055 Python 中 （&，）和（and，or）之间的区别" class="md-nav__link">
      055 Python 中 （&，）和（and，or）之间的区别
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/054 python多任务多进程/" title="054 python多任务多进程" class="md-nav__link">
      054 python多任务多进程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/053 python多任务多线程/" title="053 python多任务多线程" class="md-nav__link">
      053 python多任务多线程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/052-140种Python标准库、第三方库和外部工具都有了/" title="052 140种Python标准库、第三方库和外部工具都有了" class="md-nav__link">
      052 140种Python标准库、第三方库和外部工具都有了
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/051-图解NumPy，这是理解数组最形象的一份教程了/" title="051 图解NumPy，这是理解数组最形象的一份教程了" class="md-nav__link">
      051 图解NumPy，这是理解数组最形象的一份教程了
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/050-Python的zip函数/" title="050 Python的zip函数" class="md-nav__link">
      050 Python的zip函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/049-map函数/" title="049 map函数" class="md-nav__link">
      049 map函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/048-sys模块/" title="048 sys模块" class="md-nav__link">
      048 sys模块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/047-opencv-python-怎么读取视频以及获得视频的相应参数/" title="047 opencv-python-怎么读取视频以及获得视频的相应参数" class="md-nav__link">
      047 opencv-python-怎么读取视频以及获得视频的相应参数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/046-将文件夹中视频按照横屏竖屏进行分类/" title="046 将文件夹中视频按照横屏竖屏进行分类" class="md-nav__link">
      046 将文件夹中视频按照横屏竖屏进行分类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/045-python-的join方法/" title="045 python-的join方法" class="md-nav__link">
      045 python-的join方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/044-python的切片/" title="044 python的切片" class="md-nav__link">
      044 python的切片
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/043-用python写了一个壁纸切换的系统/" title="043 用python写了一个壁纸切换的系统" class="md-nav__link">
      043 用python写了一个壁纸切换的系统
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/042-将文件夹中图片按照横屏竖屏进行分类/" title="042 将文件夹中图片按照横屏竖屏进行分类" class="md-nav__link">
      042 将文件夹中图片按照横屏竖屏进行分类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/041 python正则表达式/" title="041 python正则表达式" class="md-nav__link">
      041 python正则表达式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/040 python多任务协程/" title="040 python多任务协程" class="md-nav__link">
      040 python多任务协程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/039 matplotlib绘图的使用/" title="039 matplotlib绘图的使用" class="md-nav__link">
      039 matplotlib绘图的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/038 numpy常用/" title="038 numpy常用" class="md-nav__link">
      038 numpy常用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/037 pyqt5学习/" title="037 pyqt5学习" class="md-nav__link">
      037 pyqt5学习
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/036-pandas常用/" title="036 pandas常用" class="md-nav__link">
      036 pandas常用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/035python中图像处理的工具Pillow的使用/" title="035 python中图像处理的工具Pillow的使用" class="md-nav__link">
      035 python中图像处理的工具Pillow的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/034Python代码写得丑怎么办？/" title="034 Python代码写得丑怎么办？" class="md-nav__link">
      034 Python代码写得丑怎么办？
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/033在使用jupyter-notebook明明安装了包,却导入失败-/" title="033 在使用jupyter-notebook明明安装了包,却导入失败-" class="md-nav__link">
      033 在使用jupyter-notebook明明安装了包,却导入失败-
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/032pandas常用的函数/" title="032 pandas常用的函数" class="md-nav__link">
      032 pandas常用的函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/031python自测100题/" title="031 python自测100题" class="md-nav__link">
      031 python自测100题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/030Python面试｜一文让你读懂if-__name__=='__main__'的含义/" title="030 Python面试｜一文让你读懂if-__name__=='__main__'的含义" class="md-nav__link">
      030 Python面试｜一文让你读懂if-__name__=='__main__'的含义
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/029python自动拷贝优盘的指定后缀文件/" title="029 python自动拷贝优盘的指定后缀文件" class="md-nav__link">
      029 python自动拷贝优盘的指定后缀文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/028获取指定路径所有文件的路径名并进行筛选/" title="028 获取指定路径所有文件的路径名并进行筛选" class="md-nav__link">
      028 获取指定路径所有文件的路径名并进行筛选
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/027获取指定路径所有文件的路径名/" title="027 获取指定路径所有文件的路径名" class="md-nav__link">
      027 获取指定路径所有文件的路径名
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/026python自动拷贝优盘的所有内容/" title="026 python自动拷贝优盘的所有内容" class="md-nav__link">
      026 python自动拷贝优盘的所有内容
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/025python模块之psutil详解/" title="025 python模块之psutil详解" class="md-nav__link">
      025 python模块之psutil详解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/024python的各种推导式/" title="024 python的各种推导式" class="md-nav__link">
      024 python的各种推导式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/023python多进程/" title="023 python多进程" class="md-nav__link">
      023 python多进程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/022-python多线程(修改借鉴莫烦python)/" title="022 python多线程(修改借鉴莫烦python)" class="md-nav__link">
      022 python多线程(修改借鉴莫烦python)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/021-pickle-保存数据/" title="021-pickle-保存数据" class="md-nav__link">
      021-pickle-保存数据
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/020-python错题集/" title="020 python错题集" class="md-nav__link">
      020 python错题集
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/019python-进度条-tqdm的使用/" title="019 python-进度条-tqdm的使用" class="md-nav__link">
      019 python-进度条-tqdm的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/018-python数据科学速查表___为个人方便查看转载/" title="018 python数据科学速查表___为个人方便查看转载" class="md-nav__link">
      018 python数据科学速查表___为个人方便查看转载
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/017python随记/" title="017 python随记" class="md-nav__link">
      017 python随记
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/016python-numpy的简单实用杂乱/" title="016 python-numpy的简单实用杂乱" class="md-nav__link">
      016 python-numpy的简单实用杂乱
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/015python模块和包/" title="015 python模块和包" class="md-nav__link">
      015 python模块和包
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/014python异常/" title="014 python异常" class="md-nav__link">
      014 python异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/013python单例设计模式/" title="013 python单例设计模式" class="md-nav__link">
      013 python单例设计模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/012python类属性和类方法/" title="012 python类属性和类方法" class="md-nav__link">
      012 python类属性和类方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/011python多态/" title="011 python多态" class="md-nav__link">
      011 python多态
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/010python继承/" title="010 python继承" class="md-nav__link">
      010 python继承
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/009python私有属性和私有方法/" title="009 python私有属性和私有方法" class="md-nav__link">
      009 python私有属性和私有方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/008python面向对象编程/" title="008 python面向对象编程" class="md-nav__link">
      008 python面向对象编程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/007python中赋值,浅拷贝,深拷贝的一些解释/" title="007python中赋值,浅拷贝,深拷贝的一些解释" class="md-nav__link">
      007python中赋值,浅拷贝,深拷贝的一些解释
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/006pythoneval函数/" title="006 pythoneval函数" class="md-nav__link">
      006 pythoneval函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/005python_中文转换成拼音_xpinyin包/" title="005 python中文转换成拼音xpinyin包" class="md-nav__link">
      005 python中文转换成拼音xpinyin包
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/004python中glob模块的使用/" title="004 python中glob模块的使用" class="md-nav__link">
      004 python中glob模块的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/003python使用shutil-模块移动复制文件/" title="003 python使用shutil模块移动复制文件" class="md-nav__link">
      003 python使用shutil模块移动复制文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/002 python操作文件/" title="002 python操作文件" class="md-nav__link">
      002 python操作文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python学习/001 jupyter notebook快捷键/" title="001 jupyter notebook快捷键" class="md-nav__link">
      001 jupyter notebook快捷键
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      python web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        python web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../038 Selenium的WebDriver API元素定位中的XPath和CSS/" title="038 Selenium的WebDriver API元素定位中的XPath和CSS" class="md-nav__link">
      038 Selenium的WebDriver API元素定位中的XPath和CSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../037 Python中pytesseract库的使用以及注意事项(图片ocr)/" title="037 Python中pytesseract库的使用以及注意事项(图片ocr)" class="md-nav__link">
      037 Python中pytesseract库的使用以及注意事项(图片ocr)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../036 Python实现从url中提取域名的几种方法/" title="036 Python实现从url中提取域名的几种方法" class="md-nav__link">
      036 Python实现从url中提取域名的几种方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../035 requests请求返回内容 中文乱码问题/" title="035 requests请求返回内容 中文乱码问题" class="md-nav__link">
      035 requests请求返回内容 中文乱码问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../034 scrapy设置随机请求头和代理/" title="034 scrapy设置随机请求头和代理" class="md-nav__link">
      034 scrapy设置随机请求头和代理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../033 scrapy爬虫框架和selenium的配合使用/" title="033 scrapy爬虫框架和selenium的配合使用" class="md-nav__link">
      033 scrapy爬虫框架和selenium的配合使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../032 selenium启动Chrome配置参数问题/" title="032 selenium启动Chrome配置参数问题" class="md-nav__link">
      032 selenium启动Chrome配置参数问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../031 Selenium之动作链（ActionChains）/" title="031 Selenium之动作链（ActionChains）" class="md-nav__link">
      031 Selenium之动作链（ActionChains）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../030 flask的使用/" title="030 flask的使用" class="md-nav__link">
      030 flask的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../029 Splash的使用/" title="029 Splash的使用" class="md-nav__link">
      029 Splash的使用
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        028 cookies池搭建
      </label>
    
    <a href="./" title="028 cookies池搭建" class="md-nav__link md-nav__link--active">
      028 cookies池搭建
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1. 本节目标
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2. 准备工作
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-cookies" class="md-nav__link">
    3. Cookies 池架构
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cookies" class="md-nav__link">
    4. Cookies 池的实现
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    存储模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    生成模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    检测模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    接口模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    调度模块
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5. 本节代码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6. 结语
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../027 爬取半次元图片/" title="027 爬取半次元图片" class="md-nav__link">
      027 爬取半次元图片
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../026 极验/" title="026 极验" class="md-nav__link">
      026 极验
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../025 PostMan使用教程/" title="025 PostMan使用教程" class="md-nav__link">
      025 PostMan使用教程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../024 scrapy爬虫框架/" title="024 scrapy爬虫框架" class="md-nav__link">
      024 scrapy爬虫框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../023 正则表达式/" title="023 正则表达式" class="md-nav__link">
      023 正则表达式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../022 selenium/" title="022 selenium" class="md-nav__link">
      022 selenium
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../021 pyquery/" title="021 pyquery" class="md-nav__link">
      021 pyquery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../020 requests/" title="020 requests" class="md-nav__link">
      020 requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../019 bs4库/" title="019 bs4库" class="md-nav__link">
      019 bs4库
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../018 urllib/" title="018 urllib" class="md-nav__link">
      018 urllib
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../017 爬虫基本原理/" title="017 爬虫基本原理" class="md-nav__link">
      017 爬虫基本原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../016 xpath的使用/" title="016 xpath的使用" class="md-nav__link">
      016 xpath的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../015-python项目离线部署/" title="015 python项目离线部署" class="md-nav__link">
      015 python项目离线部署
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../014-天天生鲜项目指令/" title="014 天天生鲜项目指令" class="md-nav__link">
      014 天天生鲜项目指令
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../014-windows下使用-fdfs_client-上传文件/" title="014 windows下使用_fdfs_client-上传文件" class="md-nav__link">
      014 windows下使用_fdfs_client-上传文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../013-天天生鲜项目简略中/" title="013 天天生鲜项目简略中" class="md-nav__link">
      013 天天生鲜项目简略中
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../013-天天生鲜项目简略上/" title="013 天天生鲜项目简略上" class="md-nav__link">
      013 天天生鲜项目简略上
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../012-分布式图片服务器FastDFS/" title="012 分布式图片服务器FastDFS" class="md-nav__link">
      012 分布式图片服务器FastDFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../011-Django框架使用步骤/" title="011 Django框架使用步骤" class="md-nav__link">
      011 Django框架使用步骤
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../010 网络知识补充/" title="010 网络知识补充" class="md-nav__link">
      010 网络知识补充
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../009-13--python提高-2/" title="009 13--python提高-2" class="md-nav__link">
      009 13--python提高-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../008-12--python提高-1/" title="008 12--python提高-1" class="md-nav__link">
      008 12--python提高-1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../007 19. 闭包、装饰器/" title="007 19. 闭包、装饰器" class="md-nav__link">
      007 19. 闭包、装饰器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../006 18. WSGI、mini-web框架/" title="006 18. WSGI、mini-web框架" class="md-nav__link">
      006 18. WSGI、mini-web框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../005--11-网络通信过程/" title="005 11-网络通信过程" class="md-nav__link">
      005  11-网络通信过程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../004--10--web服务器-并发服务器2/" title="004 10-web服务器-并发服务器2" class="md-nav__link">
      004  10-web服务器-并发服务器2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../003-9--http协议、web服务器-并发服务器1/" title="003 9--http协议、web服务器-并发服务器1" class="md-nav__link">
      003 9--http协议、web服务器-并发服务器1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../002-网络tcp/" title="002 网络tcp" class="md-nav__link">
      002 网络tcp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../001-网络udp/" title="001 网络udp" class="md-nav__link">
      001 网络udp
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      python 数据结构与算法
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        python 数据结构与算法
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/09-图_problem-solving-with-algorithms-and-data-structure-usingpython-中文/" title="09-图_problem-solving-with-algorithms-and-data-structure-usingpython-中文" class="md-nav__link">
      09-图_problem-solving-with-algorithms-and-data-structure-usingpython-中文
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/08-图-基本概念及python实现/" title="08-图-基本概念及python实现" class="md-nav__link">
      08-图-基本概念及python实现
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/07-树与树算法/" title="07-树与树算法" class="md-nav__link">
      07-树与树算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/06-排序与搜索-数据结构与算法（Python）/" title="06-排序与搜索-数据结构与算法（Python）" class="md-nav__link">
      06-排序与搜索-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/05-队列-数据结构与算法（Python）/" title="05-队列-数据结构与算法（Python）" class="md-nav__link">
      05-队列-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/04-栈-数据结构与算法（Python）/" title="04-栈-数据结构与算法（Python）" class="md-nav__link">
      04-栈-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/03-链表-数据结构与算法（Python）/" title="03-链表-数据结构与算法（Python）" class="md-nav__link">
      03-链表-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/02-顺序表-数据结构与算法（Python）/" title="02-顺序表-数据结构与算法（Python）" class="md-nav__link">
      02-顺序表-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/01-引入概念-数据结构与算法（Python）/" title="01-引入概念-数据结构与算法（Python）" class="md-nav__link">
      01-引入概念-数据结构与算法（Python）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据结构与算法Python/00-数据结构与算法（Python）/" title="00-数据结构与算法（Python）" class="md-nav__link">
      00-数据结构与算法（Python）
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      机器学习
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        机器学习
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/013 进入tensorboard/" title="013 进入tensorboard" class="md-nav__link">
      013 进入tensorboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/012-Keras使用tensorboard训练过程可视化踩过的坑/" title="012-Keras使用tensorboard训练过程可视化踩过的坑" class="md-nav__link">
      012-Keras使用tensorboard训练过程可视化踩过的坑
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/011-关于交叉验证与偏差-方差的一连串理解/" title="011-关于交叉验证与偏差-方差的一连串理解" class="md-nav__link">
      011-关于交叉验证与偏差-方差的一连串理解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/010-统计学习方法--统计学习方法概论要点加代码/" title="010-统计学习方法--统计学习方法概论要点加代码" class="md-nav__link">
      010-统计学习方法--统计学习方法概论要点加代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/009-统计学习方法--统计学习方法概论详细/" title="009-统计学习方法--统计学习方法概论详细" class="md-nav__link">
      009-统计学习方法--统计学习方法概论详细
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/008-机器学习概念回顾、精确率、召回率、F1-score、准确率、AUC、ROC曲线/" title="008-机器学习概念回顾、精确率、召回率、F1-score、准确率、AUC、ROC曲线" class="md-nav__link">
      008-机器学习概念回顾、精确率、召回率、F1-score、准确率、AUC、ROC曲线
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/007-机器学习中的维数灾难/" title="007-机器学习中的维数灾难" class="md-nav__link">
      007-机器学习中的维数灾难
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/006-sklearn模型的保存加载/" title="006-sklearn模型的保存加载" class="md-nav__link">
      006-sklearn模型的保存加载
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/005-sklearn之交叉验证/" title="005-sklearn之交叉验证" class="md-nav__link">
      005-sklearn之交叉验证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/004-sklearn：特征提取，常用模型，交叉验证/" title="004-sklearn：特征提取，常用模型，交叉验证" class="md-nav__link">
      004-sklearn：特征提取，常用模型，交叉验证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/003-sklearn学习,选择模型流程,应用模型(鸢尾花的例子),使用模型的步骤：,Sklearn中的数据集-,预处理数据/" title="003-sklearn学习,选择模型流程,应用模型(鸢尾花的例子),使用模型的步骤：,Sklearn中的数据集-,预处理数据" class="md-nav__link">
      003-sklearn学习,选择模型流程,应用模型(鸢尾花的例子),使用模型的步骤：,Sklearn中的数据集-,预处理数据
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/002-预处理数据的方法总结（使用sklearn-preprocessing）/" title="002-预处理数据的方法总结（使用sklearn-preprocessing）" class="md-nav__link">
      002-预处理数据的方法总结（使用sklearn-preprocessing）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../机器学习/001-sklearn-安装，获取数据，数据预处理/" title="001-sklearn-安装，获取数据，数据预处理" class="md-nav__link">
      001-sklearn-安装，获取数据，数据预处理
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      深度学习
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        深度学习
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/010 一文详解深度学习中的Normalization：BNLNWN/" title="010 一文详解深度学习中的Normalization：BNLNWN" class="md-nav__link">
      010 一文详解深度学习中的Normalization：BNLNWN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/009 Transformer详解（三）：Transformer 结构/" title="009 Transformer详解（三）：Transformer 结构" class="md-nav__link">
      009 Transformer详解（三）：Transformer 结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/008 Transformer详解（二）：Attention机制/" title="008 Transformer详解（二）：Attention机制" class="md-nav__link">
      008 Transformer详解（二）：Attention机制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/007 Transformer详解（一）：从RNN到Attention机制/" title="007 Transformer详解（一）：从RNN到Attention机制" class="md-nav__link">
      007 Transformer详解（一）：从RNN到Attention机制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/003 正则化的概念及原因/" title="003 正则化的概念及原因" class="md-nav__link">
      003 正则化的概念及原因
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/002 如何选择优化器 optimizer/" title="002 如何选择优化器 optimizer" class="md-nav__link">
      002 如何选择优化器 optimizer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../深度学习/001 Dropout(1)/" title="001 Dropout(1)" class="md-nav__link">
      001 Dropout(1)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      每天一道力扣题
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        每天一道力扣题
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/066-质因数/" title="066-质因数" class="md-nav__link">
      066-质因数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/065-完全数的求解/" title="065-完全数的求解" class="md-nav__link">
      065-完全数的求解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/064-刷题过程中慎用-[]-is-None/" title="064-刷题过程中慎用-[]-is-None" class="md-nav__link">
      064-刷题过程中慎用-[]-is-None
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/063-LRU缓存算法的python实现/" title="063-LRU缓存算法的python实现" class="md-nav__link">
      063-LRU缓存算法的python实现
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/062-力扣刷题-344--反转字符串/" title="062-力扣刷题-344--反转字符串" class="md-nav__link">
      062-力扣刷题-344--反转字符串
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/061-力扣刷题-23--合并K个排序链表/" title="061-力扣刷题-23--合并K个排序链表" class="md-nav__link">
      061-力扣刷题-23--合并K个排序链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/060-力扣刷题-232--用栈实现队列/" title="060-力扣刷题-232--用栈实现队列" class="md-nav__link">
      060-力扣刷题-232--用栈实现队列
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/059-力扣刷题-102--二叉树的层次遍历/" title="059-力扣刷题-102--二叉树的层次遍历" class="md-nav__link">
      059-力扣刷题-102--二叉树的层次遍历
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/058-力扣刷题-226--翻转二叉树/" title="058-力扣刷题-226--翻转二叉树" class="md-nav__link">
      058-力扣刷题-226--翻转二叉树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/057-力扣刷题-237删除链表中的节点/" title="057-力扣刷题-237删除链表中的节点" class="md-nav__link">
      057-力扣刷题-237删除链表中的节点
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/056-力扣刷题-206--反转链表/" title="056-力扣刷题-206--反转链表" class="md-nav__link">
      056-力扣刷题-206--反转链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/055-力扣刷题-1004--最大连续1的个数-III/" title="055-力扣刷题-1004--最大连续1的个数-III" class="md-nav__link">
      055-力扣刷题-1004--最大连续1的个数-III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/054-小球反弹的总路程/" title="054-小球反弹的总路程" class="md-nav__link">
      054-小球反弹的总路程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/053-力扣刷题-235--二叉搜索树的最近公共祖先/" title="053-力扣刷题-235--二叉搜索树的最近公共祖先" class="md-nav__link">
      053-力扣刷题-235--二叉搜索树的最近公共祖先
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/052-力扣刷题-162--寻找峰值/" title="052-力扣刷题-162--寻找峰值" class="md-nav__link">
      052-力扣刷题-162--寻找峰值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/051-力扣刷题-136--只出现一次的数字/" title="051-力扣刷题-136--只出现一次的数字" class="md-nav__link">
      051-力扣刷题-136--只出现一次的数字
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/050-二维生物的旅行-754--到达终点数字/" title="050-二维生物的旅行-754--到达终点数字" class="md-nav__link">
      050-二维生物的旅行-754--到达终点数字
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/049--力扣刷题459--重复的子字符串-pin2字符串构造/" title="049--力扣刷题459--重复的子字符串-pin2字符串构造" class="md-nav__link">
      049--力扣刷题459--重复的子字符串-pin2字符串构造
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/048-pin题目1/" title="048-pin题目1" class="md-nav__link">
      048-pin题目1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/047-力扣刷题-845--数组中的最长山脉/" title="047-力扣刷题-845--数组中的最长山脉" class="md-nav__link">
      047-力扣刷题-845--数组中的最长山脉
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/046-力扣刷题-125--验证回文串/" title="046-力扣刷题-125--验证回文串" class="md-nav__link">
      046-力扣刷题-125--验证回文串
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/045-力扣刷题-122--买卖股票的最佳时机-II/" title="045-力扣刷题-122--买卖股票的最佳时机-II" class="md-nav__link">
      045-力扣刷题-122--买卖股票的最佳时机-II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/044-力扣刷题-119--杨辉三角-II/" title="044-力扣刷题-119--杨辉三角-II" class="md-nav__link">
      044-力扣刷题-119--杨辉三角-II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/043-力扣刷题-121--买卖股票的最佳时机/" title="043-力扣刷题-121--买卖股票的最佳时机" class="md-nav__link">
      043-力扣刷题-121--买卖股票的最佳时机
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/042-力扣刷题-8--字符串转换整数-(atoi)/" title="042-力扣刷题-8--字符串转换整数-(atoi)" class="md-nav__link">
      042-力扣刷题-8--字符串转换整数-(atoi)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/041-力扣刷题-118--杨辉三角/" title="041-力扣刷题-118--杨辉三角" class="md-nav__link">
      041-力扣刷题-118--杨辉三角
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/040-力扣刷题-535--TinyURL-的加密与解密/" title="040-力扣刷题-535--TinyURL-的加密与解密" class="md-nav__link">
      040-力扣刷题-535--TinyURL-的加密与解密
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/039-力扣刷题-112--路径总和/" title="039-力扣刷题-112--路径总和" class="md-nav__link">
      039-力扣刷题-112--路径总和
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/038-力扣刷题-98--验证二叉搜索树/" title="038-力扣刷题-98--验证二叉搜索树" class="md-nav__link">
      038-力扣刷题-98--验证二叉搜索树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/037-力扣刷题-110--平衡二叉树--重点进行理解/" title="037-力扣刷题-110--平衡二叉树--重点进行理解" class="md-nav__link">
      037-力扣刷题-110--平衡二叉树--重点进行理解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/036-力扣刷题-166--分数到小数/" title="036-力扣刷题-166--分数到小数" class="md-nav__link">
      036-力扣刷题-166--分数到小数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/035-字节跳动题目-小球往返路程/" title="035-字节跳动题目-小球往返路程" class="md-nav__link">
      035-字节跳动题目-小球往返路程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/034-力扣刷题-88--合并两个有序数组/" title="034-力扣刷题-88--合并两个有序数组" class="md-nav__link">
      034-力扣刷题-88--合并两个有序数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/033-力扣刷题-70--爬楼梯/" title="033-力扣刷题-70--爬楼梯" class="md-nav__link">
      033-力扣刷题-70--爬楼梯
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/032-力扣刷题-83--删除排序链表中的重复元素/" title="032-力扣刷题-83--删除排序链表中的重复元素" class="md-nav__link">
      032-力扣刷题-83--删除排序链表中的重复元素
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/031-力扣刷题-101--对称二叉树/" title="031-力扣刷题-101--对称二叉树" class="md-nav__link">
      031-力扣刷题-101--对称二叉树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/030-力扣刷题-111--二叉树的最小深度/" title="030-力扣刷题-111--二叉树的最小深度" class="md-nav__link">
      030-力扣刷题-111--二叉树的最小深度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/029-力扣刷题-104--二叉树的最大深度/" title="029-力扣刷题-104--二叉树的最大深度" class="md-nav__link">
      029-力扣刷题-104--二叉树的最大深度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/028-力扣刷题107--二叉树的层次遍历-II/" title="028-力扣刷题107--二叉树的层次遍历-II" class="md-nav__link">
      028-力扣刷题107--二叉树的层次遍历-II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/027-字节跳动笔试题-循环链表实现约瑟夫环/" title="027-字节跳动笔试题-循环链表实现约瑟夫环" class="md-nav__link">
      027-字节跳动笔试题-循环链表实现约瑟夫环
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/026-力扣刷题-108--将有序数组转换为二叉搜索树/" title="026-力扣刷题-108--将有序数组转换为二叉搜索树" class="md-nav__link">
      026-力扣刷题-108--将有序数组转换为二叉搜索树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/025-力扣刷题-100-相同的树/" title="025-力扣刷题-100-相同的树" class="md-nav__link">
      025-力扣刷题-100-相同的树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/024-力扣刷题-66--加一/" title="024-力扣刷题-66--加一" class="md-nav__link">
      024-力扣刷题-66--加一
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/023-力扣刷题-69--x-的平方根/" title="023-力扣刷题-69--x-的平方根" class="md-nav__link">
      023-力扣刷题-69--x-的平方根
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/022-力扣刷题-二进制求和/" title="022-力扣刷题-二进制求和" class="md-nav__link">
      022-力扣刷题-二进制求和
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/021-力扣刷题151--翻转字符串里的单词/" title="021-力扣刷题151--翻转字符串里的单词" class="md-nav__link">
      021-力扣刷题151--翻转字符串里的单词
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/020-力扣刷题-58--最后一个单词的长度/" title="020-力扣刷题-58--最后一个单词的长度" class="md-nav__link">
      020-力扣刷题-58--最后一个单词的长度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/019-力扣刷题53--最大子序和/" title="019-力扣刷题53--最大子序和" class="md-nav__link">
      019-力扣刷题53--最大子序和
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/018-力扣刷题-38--报数/" title="018-力扣刷题-38--报数" class="md-nav__link">
      018-力扣刷题-38--报数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/017-46--全排列/" title="017-46--全排列" class="md-nav__link">
      017-46--全排列
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/016-力扣刷题873--最长的斐波那契子序列的长度/" title="016-力扣刷题873--最长的斐波那契子序列的长度" class="md-nav__link">
      016-力扣刷题873--最长的斐波那契子序列的长度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/015-力扣刷题35--搜索插入位置/" title="015-力扣刷题35--搜索插入位置" class="md-nav__link">
      015-力扣刷题35--搜索插入位置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/014-力扣刷题9--回文数/" title="014-力扣刷题9--回文数" class="md-nav__link">
      014-力扣刷题9--回文数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/013-力扣刷题7--整数反转/" title="013-力扣刷题7--整数反转" class="md-nav__link">
      013-力扣刷题7--整数反转
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/012-力扣刷题14--最长公共前缀/" title="012-力扣刷题14--最长公共前缀" class="md-nav__link">
      012-力扣刷题14--最长公共前缀
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/011-力扣刷题21--合并两个有序链表/" title="011-力扣刷题21--合并两个有序链表" class="md-nav__link">
      011-力扣刷题21--合并两个有序链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/010-力扣刷题27--移除元素/" title="010-力扣刷题27--移除元素" class="md-nav__link">
      010-力扣刷题27--移除元素
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/009-力扣刷题28--实现strStr()/" title="009-力扣刷题28--实现strStr()" class="md-nav__link">
      009-力扣刷题28--实现strStr()
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/008-力扣刷题20--有效的括号/" title="008-力扣刷题20--有效的括号" class="md-nav__link">
      008-力扣刷题20--有效的括号
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/007-力扣刷题26--删除排序数组中的重复项/" title="007-力扣刷题26--删除排序数组中的重复项" class="md-nav__link">
      007-力扣刷题26--删除排序数组中的重复项
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/006-力扣刷题22--括号生成/" title="006-力扣刷题22--括号生成" class="md-nav__link">
      006-力扣刷题22--括号生成
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/005-力扣刷题13--罗马数字转整数/" title="005-力扣刷题13--罗马数字转整数" class="md-nav__link">
      005-力扣刷题13--罗马数字转整数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/004-力扣刷题4--寻找两个有序数组的中位数/" title="004-力扣刷题4--寻找两个有序数组的中位数" class="md-nav__link">
      004-力扣刷题4--寻找两个有序数组的中位数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/003-力扣刷题3不含有重复字符的-最长子串-的长度/" title="003-力扣刷题3不含有重复字符的-最长子串-的长度" class="md-nav__link">
      003-力扣刷题3不含有重复字符的-最长子串-的长度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/002-力扣刷题2-两数相加/" title="002-力扣刷题2-两数相加" class="md-nav__link">
      002-力扣刷题2-两数相加
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../力扣刷题/001-力扣刷题1--两数之和/" title="001-力扣刷题1--两数之和" class="md-nav__link">
      001-力扣刷题1--两数之和
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      java学习
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        java学习
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/029-IntelliJ-IDEA-2019-快捷键终极大全/" title="029-IntelliJ-IDEA-2019-快捷键终极大全" class="md-nav__link">
      029-IntelliJ-IDEA-2019-快捷键终极大全
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/028-day27-反射/" title="028-day27-反射" class="md-nav__link">
      028-day27-反射
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/027-day26-网络/" title="027-day26-网络" class="md-nav__link">
      027-day26-网络
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/026-day25-多线程2/" title="026-day25-多线程2" class="md-nav__link">
      026-day25-多线程2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/025-day24-多线程1/" title="025-day24-多线程1" class="md-nav__link">
      025-day24-多线程1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/024-day22数据流/" title="024-day22数据流" class="md-nav__link">
      024-day22数据流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/023-day21--每个讲解到最后的其实才是最需要记住的/" title="023-day21--每个讲解到最后的其实才是最需要记住的" class="md-nav__link">
      023-day21--每个讲解到最后的其实才是最需要记住的
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/022-day20-递归,IO流/" title="022-day20-递归,IO流" class="md-nav__link">
      022-day20-递归,IO流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/021-day19---异常----File----递归----字节流----转换流----字符流----其他流/" title="021-day19---异常----File----递归----字节流----转换流----字符流----其他流" class="md-nav__link">
      021-day19---异常----File----递归----字节流----转换流----字符流----其他流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/020-day18-hashmap/" title="020-day18-hashmap" class="md-nav__link">
      020-day18-hashmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/019-day17--hashset/" title="019-day17--hashset" class="md-nav__link">
      019-day17--hashset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/018-day16arraylist使用/" title="018-day16arraylist使用" class="md-nav__link">
      018-day16arraylist使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/017-Eclipse-常用快捷键及使用技巧/" title="017-Eclipse-常用快捷键及使用技巧" class="md-nav__link">
      017-Eclipse-常用快捷键及使用技巧
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/016-day15-集合类/" title="016-day15-集合类" class="md-nav__link">
      016-day15-集合类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/015-day14-正则表达式概述及基本使用/" title="015-day14-正则表达式概述及基本使用" class="md-nav__link">
      015-day14-正则表达式概述及基本使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/014-day13-StringBuffer类,数组高级以及Arrays(掌握),(3)Arrays工具类/" title="014-day13-StringBuffer类,数组高级以及Arrays(掌握),(3)Arrays工具类" class="md-nav__link">
      014-day13-StringBuffer类,数组高级以及Arrays(掌握),(3)Arrays工具类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/013-day12-API概述,object类,scanner类,string类/" title="013-day12-API概述,object类,scanner类,string类" class="md-nav__link">
      013-day12-API概述,object类,scanner类,string类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/012-如何查看jdk的源码/" title="012-如何查看jdk的源码" class="md-nav__link">
      012-如何查看jdk的源码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/011-day11java使用eclipse/" title="011-day11java使用eclipse" class="md-nav__link">
      011-day11java使用eclipse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/010-day10笔记--包,内部类/" title="010-day10笔记--包,内部类" class="md-nav__link">
      010-day10笔记--包,内部类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/009-day09多态/" title="009-day09多态" class="md-nav__link">
      009-day09多态
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/008-day-08-代码块,继承,final/" title="008-day-08-代码块,继承,final" class="md-nav__link">
      008-day-08-代码块,继承,final
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/007-day-07-构造方法,创建对象的步骤,练习,static,文档说明书的制作与使用/" title="007-day-07-构造方法,创建对象的步骤,练习,static,文档说明书的制作与使用" class="md-nav__link">
      007-day-07-构造方法,创建对象的步骤,练习,static,文档说明书的制作与使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/006-day06-类的定义及使用,面向对象内存图,匿名对象,封装,this/" title="006-day06-类的定义及使用,面向对象内存图,匿名对象,封装,this" class="md-nav__link">
      006-day06-类的定义及使用,面向对象内存图,匿名对象,封装,this
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/005-day05,一维数组,二维数组/" title="005-day05,一维数组,二维数组" class="md-nav__link">
      005-day05,一维数组,二维数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/004-day04,for循环,while循环,do_while循环,循环嵌套,控制语句,方法/" title="004-day04,for循环,while循环,do_while循环,循环嵌套,控制语句,方法" class="md-nav__link">
      004-day04,for循环,while循环,do_while循环,循环嵌套,控制语句,方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/003-day03,逻辑运算符,位运算符,三元运算符,顺序结构,选择结构if,switch/" title="003-day03,逻辑运算符,位运算符,三元运算符,顺序结构,选择结构if,switch" class="md-nav__link">
      003-day03,逻辑运算符,位运算符,三元运算符,顺序结构,选择结构if,switch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/002-day02,常量,进制转换,数据类型转换,算数运算符,赋值运算符,关系运算符/" title="002-day02,常量,进制转换,数据类型转换,算数运算符,赋值运算符,关系运算符" class="md-nav__link">
      002-day02,常量,进制转换,数据类型转换,算数运算符,赋值运算符,关系运算符
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java学习/001-day01,java初探以及说明/" title="001-day01,java初探以及说明" class="md-nav__link">
      001-day01,java初探以及说明
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      数据库
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        数据库
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/013 Redis使用密码登录/" title="013 Redis使用密码登录" class="md-nav__link">
      013 Redis使用密码登录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/012 mysql mysqldump 命令导出指定表的数据/" title="012 mysql mysqldump 命令导出指定表的数据" class="md-nav__link">
      012 mysql mysqldump 命令导出指定表的数据
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/011 Mysql创建用户并授权以及开启远程访问/" title="011 Mysql创建用户并授权以及开启远程访问" class="md-nav__link">
      011 Mysql创建用户并授权以及开启远程访问
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/010 windows下通过批处理脚本启动redis/" title="010 windows下通过批处理脚本启动redis" class="md-nav__link">
      010 windows下通过批处理脚本启动redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/009 Redis 安装/" title="009 Redis 安装" class="md-nav__link">
      009 Redis 安装
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/008 便携版mysql安装配置/" title="008 便携版mysql安装配置" class="md-nav__link">
      008 便携版mysql安装配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/007-redis总结/" title="007-redis总结" class="md-nav__link">
      007-redis总结
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/006-mysql的一些底层原理/" title="006-mysql的一些底层原理" class="md-nav__link">
      006-mysql的一些底层原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/005-ubuntu安装mysql没有让我设置密码/" title="005-ubuntu安装mysql没有让我设置密码" class="md-nav__link">
      005-ubuntu安装mysql没有让我设置密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/004-mysql-高级/" title="004-mysql-高级" class="md-nav__link">
      004-mysql-高级
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/003-黑马-mysql-下/" title="003-黑马-mysql-下" class="md-nav__link">
      003-黑马-mysql-下
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/002-黑马mysql-上/" title="002-黑马mysql-上" class="md-nav__link">
      002-黑马mysql-上
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../数据库/001-mysql的使用/" title="001-mysql的使用" class="md-nav__link">
      001-mysql的使用
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      windows10系统使用
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        windows10系统使用
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/028 win10电脑无线wifi总是掉线断网怎么解决/" title="028 win10电脑无线wifi总是掉线断网怎么解决" class="md-nav__link">
      028 win10电脑无线wifi总是掉线断网怎么解决
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/027 远程时的不设置密码以及修改设置后使用空密码登录/" title="027 远程时的不设置密码以及修改设置后使用空密码登录" class="md-nav__link">
      027 远程时的不设置密码以及修改设置后使用空密码登录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/026 windows系统如何查看端口被占用、杀进程/" title="026 windows系统如何查看端口被占用、杀进程" class="md-nav__link">
      026 windows系统如何查看端口被占用、杀进程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/025 解决SVN安装语言包后无法选择中文的问题/" title="025 解决SVN安装语言包后无法选择中文的问题" class="md-nav__link">
      025 解决SVN安装语言包后无法选择中文的问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/025 docker安装/" title="025 docker安装" class="md-nav__link">
      025 docker安装
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/024 如何在开始菜单隐藏关机按钮/" title="024 如何在开始菜单隐藏关机按钮" class="md-nav__link">
      024 如何在开始菜单隐藏关机按钮
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/023 windows 命令行代码提示/" title="023 windows 命令行代码提示" class="md-nav__link">
      023 windows 命令行代码提示
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/022-Vmware安装报错--此安装程序要求您重新启动系统以完成Microsoft-VC-Redistributable-安装/" title="022-Vmware安装报错--此安装程序要求您重新启动系统以完成Microsoft-VC-Redistributable-安装" class="md-nav__link">
      022-Vmware安装报错--此安装程序要求您重新启动系统以完成Microsoft-VC-Redistributable-安装
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/021win系统新增新建右键Markdown文件及默认UTF-8编码格式/" title="021win系统新增新建右键Markdown文件及默认UTF-8编码格式" class="md-nav__link">
      021win系统新增新建右键Markdown文件及默认UTF-8编码格式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/020-删除关机等按钮/" title="020-删除关机等按钮" class="md-nav__link">
      020-删除关机等按钮
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/019-windows1809-系统最近的更新出现了bug/" title="019-windows1809-系统最近的更新出现了bug" class="md-nav__link">
      019-windows1809-系统最近的更新出现了bug
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/018--win10卸载自带的应用/" title="018--win10卸载自带的应用" class="md-nav__link">
      018--win10卸载自带的应用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/017-笔记本软件/" title="017-笔记本软件" class="md-nav__link">
      017-笔记本软件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/016-Java添加环境变量/" title="016-Java添加环境变量" class="md-nav__link">
      016-Java添加环境变量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/015-anaconda-添加环境变量/" title="015-anaconda-添加环境变量" class="md-nav__link">
      015-anaconda-添加环境变量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/014-Win10添加右键打开cmd和Powershell窗口（管理员-非管理员）/" title="014-Win10添加右键打开cmd和Powershell窗口（管理员-非管理员）" class="md-nav__link">
      014-Win10添加右键打开cmd和Powershell窗口（管理员-非管理员）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/013-win10取消应用弹框/" title="013-win10取消应用弹框" class="md-nav__link">
      013-win10取消应用弹框
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/012--win10系统怎么禁用defender/" title="012--win10系统怎么禁用defender" class="md-nav__link">
      012--win10系统怎么禁用defender
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/011-Windows-无法启动print-spooler服务(位于本地计算机上)。错误0x800706b/" title="011-Windows-无法启动print-spooler服务(位于本地计算机上)。错误0x800706b" class="md-nav__link">
      011-Windows-无法启动print-spooler服务(位于本地计算机上)。错误0x800706b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/010-Axmath破解安装使用/" title="010-Axmath破解安装使用" class="md-nav__link">
      010-Axmath破解安装使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/007-Mathpix-Snipping-Tool-+-Typora-+-Pandoc-快速将其他论文中的公式图片转化成Word可编辑格式/" title="007-Mathpix-Snipping-Tool-+-Typora-+-Pandoc-快速将其他论文中的公式图片转化成Word可编辑格式" class="md-nav__link">
      007-Mathpix-Snipping-Tool-+-Typora-+-Pandoc-快速将其他论文中的公式图片转化成Word可编辑格式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/006-picgo图床使用/" title="006-picgo图床使用" class="md-nav__link">
      006-picgo图床使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/005-win10开机提示用户名和密码不正确的解决办法/" title="005-win10开机提示用户名和密码不正确的解决办法" class="md-nav__link">
      005-win10开机提示用户名和密码不正确的解决办法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/004-windows下安装pandoc并通过Typora导出pdf和word/" title="004-windows下安装pandoc并通过Typora导出pdf和word" class="md-nav__link">
      004-windows下安装pandoc并通过Typora导出pdf和word
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/002-几何画板迷你增强版/" title="002-几何画板迷你增强版" class="md-nav__link">
      002-几何画板迷你增强版
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows10系统使用/001-开机启动项的存储位置/" title="001-开机启动项的存储位置" class="md-nav__link">
      001-开机启动项的存储位置
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      ubuntu系统的使用
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        ubuntu系统的使用
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/054 ubuntu18.04VNC远程配置/" title="054 ubuntu18.04VNC远程配置" class="md-nav__link">
      054 ubuntu18.04VNC远程配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/053-ubuntu18-04安装搜狗输入法/" title="053 ubuntu18-04安装搜狗输入法" class="md-nav__link">
      053 ubuntu18-04安装搜狗输入法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/052-ubuntu18-04卸载ibus出现登录循环问题,真是什么人都出来写博客/" title="052 ubuntu18-04卸载ibus出现登录循环问题,真是什么人都出来写博客" class="md-nav__link">
      052 ubuntu18-04卸载ibus出现登录循环问题,真是什么人都出来写博客
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/051-ubuntu安装redis的方法/" title="051 ubuntu安装redis的方法" class="md-nav__link">
      051 ubuntu安装redis的方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/050-ubuntu下codeblocks安装及汉化教程/" title="050 ubuntu下codeblocks安装及汉化教程" class="md-nav__link">
      050 ubuntu下codeblocks安装及汉化教程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/049-ubuntu绘图软件/" title="049 ubuntu绘图软件" class="md-nav__link">
      049 ubuntu绘图软件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/048-linux的指令/" title="048 linux的指令" class="md-nav__link">
      048 linux的指令
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/047-记录一次笔记本使用硬盘系统的经历/" title="047 记录一次笔记本使用硬盘系统的经历" class="md-nav__link">
      047 记录一次笔记本使用硬盘系统的经历
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/044 linux系统/" title="044 linux系统" class="md-nav__link">
      044 linux系统
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/043 ubuntu安装eclipse/" title="043 ubuntu安装eclipse" class="md-nav__link">
      043 ubuntu安装eclipse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/042 ubuntu在使用搜狗输入法时,spyder不能输入中文/" title="042 ubuntu在使用搜狗输入法时,spyder不能输入中文" class="md-nav__link">
      042 ubuntu在使用搜狗输入法时,spyder不能输入中文
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/041-解决ubuntu鼠标灵敏度无法调整的情况/" title="041 解决ubuntu鼠标灵敏度无法调整的情况" class="md-nav__link">
      041 解决ubuntu鼠标灵敏度无法调整的情况
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/040-解决Ubuntu屏幕分辨率不正常问题/" title="040 解决Ubuntu屏幕分辨率不正常问题" class="md-nav__link">
      040 解决Ubuntu屏幕分辨率不正常问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/039-ubuntu安装latex+texstudio/" title="039 ubuntu安装latex+texstudio" class="md-nav__link">
      039 ubuntu安装latex+texstudio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/038-乌班图不能用QQ,微信怎么办-/" title="038 乌班图不能用QQ,微信怎么办-" class="md-nav__link">
      038 乌班图不能用QQ,微信怎么办-
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/037-乌班图安装的网易云音乐不能正常启动怎么办-/" title="037 乌班图安装的网易云音乐不能正常启动怎么办-" class="md-nav__link">
      037 乌班图安装的网易云音乐不能正常启动怎么办-
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/036-为火狐浏览器安装flash插件/" title="036 为火狐浏览器安装flash插件" class="md-nav__link">
      036 为火狐浏览器安装flash插件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/035-乌班图安装强大的终端-Terminator/" title="035 乌班图安装强大的终端-Terminator" class="md-nav__link">
      035 乌班图安装强大的终端-Terminator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/034-乌班图最好用的截图软件的安装/" title="034 乌班图最好用的截图软件的安装" class="md-nav__link">
      034 乌班图最好用的截图软件的安装
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/033-乌班图下Anaconda环境的使用/" title="033 乌班图下Anaconda环境的使用" class="md-nav__link">
      033 乌班图下Anaconda环境的使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/032-乌班图系统的原版优化配置/" title="032 乌班图系统的原版优化配置" class="md-nav__link">
      032 乌班图系统的原版优化配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/031-乌班图安装虚拟机VMware/" title="031 乌班图安装虚拟机VMware" class="md-nav__link">
      031 乌班图安装虚拟机VMware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/030-乌班图自带输入法ibus-无法按数字键取词/" title="030 乌班图自带输入法ibus-无法按数字键取词" class="md-nav__link">
      030 乌班图自带输入法ibus-无法按数字键取词
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/029-乌班图鼠标键盘延迟问题--已/" title="029 乌班图鼠标键盘延迟问题--已" class="md-nav__link">
      029 乌班图鼠标键盘延迟问题--已
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/028-乌班图添加环境变量路径/" title="028 乌班图添加环境变量路径" class="md-nav__link">
      028 乌班图添加环境变量路径
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/027-如何在Ubuntu中使用GNOME-Sushi快速预览文件/" title="027 如何在Ubuntu中使用GNOME-Sushi快速预览文件" class="md-nav__link">
      027 如何在Ubuntu中使用GNOME-Sushi快速预览文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/026-Ubuntu18-04-问题——无法安全地用该源进行更新，所以默认禁用该源。/" title="026 Ubuntu18-04-问题——无法安全地用该源进行更新，所以默认禁用该源。" class="md-nav__link">
      026 Ubuntu18-04-问题——无法安全地用该源进行更新，所以默认禁用该源。
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/025-在局域网内Ubuntu和Windows之间实现共享文件教程/" title="025 在局域网内Ubuntu和Windows之间实现共享文件教程" class="md-nav__link">
      025 在局域网内Ubuntu和Windows之间实现共享文件教程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/024-ubuntu系统下matplotlib中文乱码问题/" title="024 ubuntu系统下matplotlib中文乱码问题" class="md-nav__link">
      024 ubuntu系统下matplotlib中文乱码问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/023-ubuntu安装anaconda/" title="023 ubuntu安装anaconda" class="md-nav__link">
      023 ubuntu安装anaconda
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/022-乌班图常用指令/" title="022 乌班图常用指令" class="md-nav__link">
      022 乌班图常用指令
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/021-ubuntu18-04实时显示网速CPU温度等/" title="021 ubuntu18-04实时显示网速CPU温度等" class="md-nav__link">
      021 ubuntu18-04实时显示网速CPU温度等
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/020-ubuntu18-04智能拼音候选字体调节方法/" title="020 ubuntu18-04智能拼音候选字体调节方法" class="md-nav__link">
      020 ubuntu18-04智能拼音候选字体调节方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/019-Ubuntu解压zip压缩包中文乱码/" title="019 Ubuntu解压zip压缩包中文乱码" class="md-nav__link">
      019 Ubuntu解压zip压缩包中文乱码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/018-Windows下安装Notepad++-以及-Ubuntu-16-04下-安装-Notepadqq/" title="018 Windows下安装Notepad++-以及-Ubuntu-16-04下-安装-Notepadqq" class="md-nav__link">
      018 Windows下安装Notepad++-以及-Ubuntu-16-04下-安装-Notepadqq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/017-ubuntu更新引导项/" title="017 ubuntu更新引导项" class="md-nav__link">
      017 ubuntu更新引导项
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/016-ubuntu下NTFS分区无法访问解决/" title="016 ubuntu下NTFS分区无法访问解决" class="md-nav__link">
      016 ubuntu下NTFS分区无法访问解决
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/015-保存ubuntu终端屏幕输出的信息/" title="015 保存ubuntu终端屏幕输出的信息" class="md-nav__link">
      015 保存ubuntu终端屏幕输出的信息
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/014-在Ubuntu上安装Chrome浏览器和ChromeDriver/" title="014 在Ubuntu上安装Chrome浏览器和ChromeDriver" class="md-nav__link">
      014 在Ubuntu上安装Chrome浏览器和ChromeDriver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/013-Ubuntu下解决apt-update时签名无效问题/" title="013 Ubuntu下解决apt-update时签名无效问题" class="md-nav__link">
      013 Ubuntu下解决apt-update时签名无效问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/012-ubuntu怎么切换到root用户,切换到root账号方法/" title="012 ubuntu怎么切换到root用户,切换到root账号方法" class="md-nav__link">
      012 ubuntu怎么切换到root用户,切换到root账号方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/011-ubuntu安装makedown编辑器typora/" title="011 ubuntu安装makedown编辑器typora" class="md-nav__link">
      011 ubuntu安装makedown编辑器typora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/010ubuntu配置java开发环境/" title="010 ubuntu配置java开发环境" class="md-nav__link">
      010 ubuntu配置java开发环境
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/009ubuntu安装remarkable-makedown编辑器/" title="009 ubuntu安装remarkable-makedown编辑器" class="md-nav__link">
      009 ubuntu安装remarkable-makedown编辑器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/008ubuntu-18-04如何自动更换壁纸？/" title="008 ubuntu-18-04如何自动更换壁纸？" class="md-nav__link">
      008 ubuntu-18-04如何自动更换壁纸？
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/007Ubuntu-18-04-引导修复（boot-repair）/" title="007 Ubuntu-18-04-引导修复（boot-repair）" class="md-nav__link">
      007 Ubuntu-18-04-引导修复（boot-repair）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/006ubuntu18-04无法下载-http---dl-google-com-linux-chrome-deb-dists-stable-/" title="006 ubuntu18-04无法下载-http---dl-google-com-linux-chrome-deb-dists-stable-" class="md-nav__link">
      006 ubuntu18-04无法下载-http---dl-google-com-linux-chrome-deb-dists-stable-
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/005ubuntu18-04安装xmind-8/" title="005 ubuntu18-04安装xmind-8" class="md-nav__link">
      005 ubuntu18-04安装xmind-8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/004ubuntu使用pandoc配合typora将makedown转换为docx/" title="004 ubuntu使用pandoc配合typora将makedown转换为docx" class="md-nav__link">
      004 ubuntu使用pandoc配合typora将makedown转换为docx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/003ubuntu安装mathpix/" title="003 ubuntu安装mathpix" class="md-nav__link">
      003 ubuntu安装mathpix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/002如何移植ubuntu系统到另一台电脑-/" title="002 如何移植ubuntu系统到另一台电脑-" class="md-nav__link">
      002 如何移植ubuntu系统到另一台电脑-
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ubuntu系统的使用/001tplink无线网卡在ubuntu-16-04-下频繁掉线-信号弱-解决办法/" title="001 tplink无线网卡在ubuntu-16-04-下频繁掉线-信号弱-解决办法" class="md-nav__link">
      001 tplink无线网卡在ubuntu-16-04-下频繁掉线-信号弱-解决办法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      未分类
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        未分类
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/010 ssh远程链接服务器，避免因断网而中断训练方法/" title="010 ssh远程链接服务器，避免因断网而中断训练方法" class="md-nav__link">
      010 ssh远程链接服务器，避免因断网而中断训练方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/009 git忽略本地修改更新远程仓库内容到本地/" title="009 git忽略本地修改更新远程仓库内容到本地" class="md-nav__link">
      009 git忽略本地修改更新远程仓库内容到本地
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/008 编程注意小技巧/" title="008 编程注意小技巧" class="md-nav__link">
      008 编程注意小技巧
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/007 操作系统词典/" title="007 操作系统词典" class="md-nav__link">
      007 操作系统词典
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/006 sublime text 3 显示空格和Tab/" title="006 sublime text 3 显示空格和Tab" class="md-nav__link">
      006 sublime text 3 显示空格和Tab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/005 GitBook 搭建使用教程/" title="005 GitBook 搭建使用教程" class="md-nav__link">
      005 GitBook 搭建使用教程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/004 ffmpeg的小使用/" title="004 ffmpeg的小使用" class="md-nav__link">
      004 ffmpeg的小使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/003 超详细教程：YOLO_V3（yolov3）训练自己的数据/" title="003 超详细教程：YOLO_V3（yolov3）训练自己的数据" class="md-nav__link">
      003 超详细教程：YOLO_V3（yolov3）训练自己的数据
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/002 加速国内Github访问/" title="002 加速国内Github访问" class="md-nav__link">
      002 加速国内Github访问
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../未分类/001 git的使用/" title="001 git的使用" class="md-nav__link">
      001 git的使用
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1. 本节目标
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2. 准备工作
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-cookies" class="md-nav__link">
    3. Cookies 池架构
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cookies" class="md-nav__link">
    4. Cookies 池的实现
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    存储模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    生成模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    检测模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    接口模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    调度模块
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5. 本节代码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6. 结语
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="102-cookies">10.2 Cookies 池的搭建<a class="headerlink" href="#102-cookies" title="Permanent link">&para;</a></h1>
<h3 id="1">1. 本节目标<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>我们以天眼查和企查查为例来实现一个 Cookies 池的搭建过程。Cookies 池中保存了该网站的账号和登录后的 Cookies 信息，并且 Cookies 池还需要定时检测每个 Cookies 的有效性，如果某 Cookies 无效，那就删除该 Cookies 并模拟登录生成新的 Cookies。同时 Cookies 池还需要一个非常重要的接口，即获取随机 Cookies 的接口，Cookies 运行后，我们只需请求该接口，即可随机获得一个 Cookies 并用其爬取。</p>
<p>由此可见，<code>Cookies 池需要有自动生成 Cookies、定时检测 Cookies、提供随机 Cookies</code>等几大核心功能。</p>
<h3 id="2">2. 准备工作<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p>搭建之前肯定需要一些微博的账号。需要安装好 Redis 数据库并使其正常运行。需要安装 Python 的 redis-py、requests、Selelnium 和 Flask 库。另外，还需要安装 Chrome 浏览器并配置好 ChromeDriver。</p>
<h3 id="3-cookies">3. Cookies 池架构<a class="headerlink" href="#3-cookies" title="Permanent link">&para;</a></h3>
<p>Cookies 的架构和代理池类似，同样是 4 个核心模块，如图 10-10 所示。</p>
<p><img alt="" src="../028 cookies池搭建.image/10-10.jpg" /></p>
<p>图 10-10 Cookies 池架构</p>
<p>Cookies 池架构的基本模块分为 4 块：存储模块、生成模块、检测模块和接口模块。每个模块的功能如下。</p>
<ul>
<li>存储模块负责存储每个账号的用户名密码以及每个账号对应的 Cookies 信息，同时还需要提供一些方法来实现方便的存取操作。</li>
<li>生成模块负责生成新的 Cookies。此模块会从存储模块逐个拿取账号的用户名和密码，然后模拟登录目标页面，判断登录成功，就将 Cookies 返回并交给存储模块存储。</li>
<li>检测模块需要定时检测数据库中的 Cookies。在这里我们需要设置一个检测链接，不同的站点检测链接不同，检测模块会逐个拿取账号对应的 Cookies 去请求链接，如果返回的状态是有效的，那么此 Cookies 没有失效，否则 Cookies 失效并移除。接下来等待生成模块重新生成即可。</li>
<li>接口模块需要用 API 来提供对外服务的接口。由于可用的 Cookies 可能有多个，我们可以随机返回 Cookies 的接口，这样保证每个 Cookies 都有可能被取到。Cookies 越多，每个 Cookies 被取到的概率就会越小，从而减少被封号的风险。</li>
<li><img alt="image-20200916101531906" src="../028 cookies池搭建.image/image-20200916101531906.png" /></li>
</ul>
<p>以上设计 Cookies 池的基本思路和前面讲的代理池有相似之处。接下来我们设计整体的架构，然后用代码实现该 Cookies 池。</p>
<h3 id="4-cookies">4. Cookies 池的实现<a class="headerlink" href="#4-cookies" title="Permanent link">&para;</a></h3>
<p>首先分别了解各个模块的实现过程。</p>
<h4 id="_1">存储模块<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<p>其实，需要存储的内容无非就是账号信息和 Cookies 信息。</p>
<p>账号由用户名和密码两部分组成，我们可以存成<code>用户名和密码的映射</code>。</p>
<p>Cookies 可以存成 JSON 字符串，但是我们后面得需要根据账号来生成 Cookies。</p>
<p>生成的时候我们需要知道哪些账号已经生成了 Cookies，哪些没有生成，所以需要同时保存该 Cookies 对应的用户名信息，其实也是<code>用户名和 Cookies 的映射</code>。</p>
<p>这里就是两组映射，我们自然而然想到 Redis 的 Hash，于是就建立两个 Hash，结构分别如图 10-11 和图 10-12 所示。</p>
<p><img alt="image-20200916095248819" src="../028 cookies池搭建.image/image-20200916095248819.png" /></p>
<p>图 10-11 用户名密码 Hash 结构</p>
<p><img alt="image-20200916095733442" src="../028 cookies池搭建.image/image-20200916095733442.png" /></p>
<p>图 10-12 用户名 Cookies Hash 结构</p>
<p>Hash 的 Key 就是账号，Value 对应着密码或者 Cookies。</p>
<p>另外需要注意，由于 Cookies 池需要做到可扩展，存储的账号和 Cookies 不一定单单只有本例中的网站，其他站点同样可以对接此 Cookies 池，所以这里 Hash 的名称可以做<code>二级分类</code>，例如存账号的 Hash 名称可以为 accounts:tianyancha，Cookies 的 Hash 名称可以为 cookies:tianyancha。</p>
<p>如要扩展企查查的 Cookies 池，我们就可以使用 accounts:qichacha 和 cookies:qichacha，这样比较方便。</p>
<p>好，接下来我们就创建一个存储模块类，用以提供一些 Hash 的基本操作，代码如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Wed Sep  9 16:13:20 2020</span>

<span class="sd">@author: Devil</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">redis</span>
<span class="kn">from</span> <span class="nn">cookiespool.config</span> <span class="kn">import</span> <span class="o">*</span> 

<span class="c1"># 存储模块</span>

<span class="k">class</span> <span class="nc">RedisClient</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    存储模块类</span>
<span class="sd">    这里我们新建了一个 RedisClient 类，</span>
<span class="sd">    初始化__init__() 方法有两个关键参数 type 和 website，</span>
<span class="sd">    分别代表类型和站点名称，它们就是用来拼接 Hash 名称的两个字段。</span>
<span class="sd">    如果这是存储账户的 Hash，那么此处的 type 为 accounts、website 为 weibo，</span>
<span class="sd">    如果是存储 Cookies 的 Hash，那么此处的 type 为 cookies、website 为 weibo。</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">website</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="n">REDIS_HOST</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">REDIS_PORT</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">REDIS_PASSWORD</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        初始化Redis连接</span>
<span class="sd">        :param host: 地址</span>
<span class="sd">        :param port: 端口</span>
<span class="sd">        :param password: 密码</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">decode_responses</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1">##创建StrictRedis对象，与redis服务器建⽴连接</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>  <span class="c1">#type是干啥的</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span> <span class="c1">#website是网站名</span>

    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        获取Hash的名称</span>
<span class="sd">        :return: Hash名称</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{type}</span><span class="s2">:</span><span class="si">{website}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        设置键值对(需要传递hash的名字,没有的话会直接创建的)</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :param value: 密码或Cookies</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span> <span class="n">username</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        根据键名获取键值</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span> <span class="n">username</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        根据键名删除键值对</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :return: 删除结果</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hdel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span> <span class="n">username</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        获取数目</span>
<span class="sd">        :return: 数目</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hlen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">random</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        随机得到键值，用于随机Cookies获取</span>
<span class="sd">        :return: 随机Cookies</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hvals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">()))</span>

    <span class="k">def</span> <span class="nf">usernames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        获取所有账户信息</span>
<span class="sd">        :return: 所有用户名</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hkeys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        获取所有键值对</span>
<span class="sd">        :return: 用户名和密码或Cookies的映射表</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">hgetall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;accounts&#39;</span><span class="p">,</span> <span class="s1">&#39;weibo&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hell2o&#39;</span><span class="p">,</span> <span class="s1">&#39;sss3s&#39;</span><span class="p">)</span>  <span class="c1">#1是成功存储,0是失败</span>
    <span class="c1"># result = conn.get(&#39;hell2o&#39;)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>配置文件中存储了redis数据库的信息</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Redis数据库地址</span>
<span class="n">REDIS_HOST</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span>

<span class="c1"># Redis端口</span>
<span class="n">REDIS_PORT</span> <span class="o">=</span> <span class="mi">6379</span>

<span class="c1"># Redis密码，如无填None</span>
<span class="n">REDIS_PASSWORD</span> <span class="o">=</span> <span class="s1">&#39;Hua@123123&#39;</span>   
</pre></div>
</td></tr></table>

<h4 id="_2">生成模块<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>生成模块负责获取各个账号信息并模拟登录，随后生成 Cookies 并保存。我们首先获取两个 Hash 的信息，看看账户的 Hash 比 Cookies 的 Hash 多了哪些还没有生成 Cookies 的账号，然后将剩余的账号遍历，再去生成 Cookies 即可。</p>
<p>这里主要逻辑就是找出那些还没有对应 Cookies 的账号，然后再逐个获取 Cookies，代码如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">for</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">accounts_usernames</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">cookies_usernames</span><span class="p">:</span>
        <span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; 正在生成 Cookies&#39;</span><span class="p">,</span> <span class="s1">&#39; 账号 &#39;</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="s1">&#39; 密码 &#39;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_cookies</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>整个的生成器模块:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">#</span>

<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver</span> <span class="kn">import</span> <span class="n">DesiredCapabilities</span>
<span class="kn">from</span> <span class="nn">cookiespool.config</span> <span class="kn">import</span> <span class="o">*</span>  
<span class="kn">from</span> <span class="nn">cookiespool.db</span> <span class="kn">import</span> <span class="n">RedisClient</span>
<span class="kn">from</span> <span class="nn">login.tianyancha.cookies</span> <span class="kn">import</span> <span class="n">TianYanChaCookies</span>   <span class="c1">#导入天眼查模拟登陆模块</span>
<span class="kn">from</span> <span class="nn">login.qichacha.cookies</span> <span class="kn">import</span> <span class="n">QiChaChaCookies</span>


<span class="k">class</span> <span class="nc">CookiesGenerator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        父类, 初始化一些对象</span>
<span class="sd">        :param website: 名称</span>
<span class="sd">        :param browser: 浏览器, 若不使用浏览器则可设置为 None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;cookies&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;accounts&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">new_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        新生成Cookies，子类需要重写</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :param password: 密码</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        运行, 得到所有账户, 然后顺次模拟登录</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">accounts_usernames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span><span class="o">.</span><span class="n">usernames</span><span class="p">()</span>  <span class="c1"># 账户密码字典</span>
        <span class="n">cookies_usernames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">usernames</span><span class="p">()</span>  <span class="c1"># 账户cookies字典</span>

        <span class="k">for</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">accounts_usernames</span><span class="p">:</span>  <span class="c1"># 从账户密码中遍历用户,查看另一个字典中是不是已经有了相应的键值对</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">cookies_usernames</span><span class="p">:</span>  <span class="c1"># 没有的话</span>
                <span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>  <span class="c1"># 获取该账户的密码</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;正在生成</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s1">&#39;账号&#39;</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="s1">&#39;密码&#39;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>  <span class="c1"># 打印提示</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_cookies</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>  <span class="c1"># 调用生成cookies</span>
                <span class="c1"># 成功获取</span>
                <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                    <span class="c1"># cookies = self.process_cookies(result)  #将字符串格式的cookies转换成字典进行存储</span>
                    <span class="n">cookies</span> <span class="o">=</span> <span class="n">result</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;成功获取到</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">cookies</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cookies</span><span class="p">)):</span>  <span class="c1"># 返回的cookies已经保存成字典的形式,存储到redis中需要转换成json格式</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;成功保存</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_所有账号都已经成功获取Cookies&#39;</span><span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">TianYanChaCookiesGenerator</span><span class="p">(</span><span class="n">CookiesGenerator</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;tianyancha&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        初始化操作</span>
<span class="sd">        :param website: 站点名称</span>
<span class="sd">        :param browser: 使用的浏览器</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">CookiesGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="p">)</span>  <span class="c1"># 父类初始化</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>

    <span class="k">def</span> <span class="nf">new_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>  <span class="c1"># 输入账户和密码生成cookies</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        调用天眼查的cookies生成方法来生成Cookies</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :param password: 密码</span>
<span class="sd">        :return: 用户名和Cookies</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TianYanChaCookies</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>  <span class="c1"># 这里调用的是导入的cookie生成函数</span>


<span class="k">class</span> <span class="nc">QiChaChaCookiesGenerator</span><span class="p">(</span><span class="n">CookiesGenerator</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;qichacha&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        初始化操作</span>
<span class="sd">        :param website: 站点名称</span>
<span class="sd">        :param browser: 使用的浏览器</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">CookiesGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="p">)</span>  <span class="c1"># 父类初始化</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>

    <span class="k">def</span> <span class="nf">new_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>  <span class="c1"># 输入账户和密码生成cookies</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        生成Cookies</span>
<span class="sd">        :param username: 用户名</span>
<span class="sd">        :param password: 密码</span>
<span class="sd">        :return: 用户名和Cookies</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">QiChaChaCookies</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>  <span class="c1"># 这里调用的是导入的cookie生成函数</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">generator</span> <span class="o">=</span> <span class="n">QiChaChaCookiesGenerator</span><span class="p">()</span>
    <span class="n">generator</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>这里对接的是天眼查和企查查，返回结果的类型是字典，这里有没有返回结果其实无所谓,后面检测模块发现cookies无效后续会重新生成.</p>
<p>如果要扩展其他站点，只需要实现 new_cookies() 方法即可，然后按此处理规则返回对应的模拟登录结果.</p>
<p>代码运行之后就会遍历一次尚未生成 Cookies 的账号，模拟登录生成新的 Cookies。</p>
<p>天眼查模拟登陆代码:</p>
<p><img alt="image-20200916113908935" src="../028 cookies池搭建.image/image-20200916113908935.png" /></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageChops</span><span class="p">,</span> <span class="n">PngImagePlugin</span>

<span class="c1"># TEMPLATES_FOLDER = dirname(abspath(__file__)) + &#39;/templates/&#39;</span>


<span class="k">class</span> <span class="nc">TianYanChaCookies</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>

    <span class="k">def</span> <span class="nf">get_gap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        获取缺口偏移量</span>
<span class="sd">        :param image1: 不带缺口图片</span>
<span class="sd">        :param image2: 带缺口图片</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 将图片修改为RGB模式</span>
        <span class="n">image1</span> <span class="o">=</span> <span class="n">image1</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">image2</span> <span class="o">=</span> <span class="n">image2</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>

        <span class="c1"># 计算差值</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">ImageChops</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">)</span>

        <span class="c1"># 灰度图</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">diff</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;L&quot;</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># 二值化</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">diff</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>

        <span class="n">left</span> <span class="o">=</span> <span class="mi">58</span>
        <span class="c1"># 这里做了优化为减少误差 纵坐标的像素点大于5时才认为是找到</span>
        <span class="c1"># 防止缺口有凸起时有误差</span>
        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">diff</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">lis</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">diff</span><span class="o">.</span><span class="n">load</span><span class="p">()[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">lis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">w</span>
                    <span class="k">return</span> <span class="n">left</span>

    <span class="k">def</span> <span class="nf">is_pixel_equal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        判断两个像素是否相同</span>
<span class="sd">        :param image1: 图片1</span>
<span class="sd">        :param image2: 图片2</span>
<span class="sd">        :param x: 位置x</span>
<span class="sd">        :param y: 位置y</span>
<span class="sd">        :return: 像素是否相同</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 取两个图片的像素点</span>
        <span class="n">pixel1</span> <span class="o">=</span> <span class="n">image1</span><span class="o">.</span><span class="n">load</span><span class="p">()[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
        <span class="n">pixel2</span> <span class="o">=</span> <span class="n">image2</span><span class="o">.</span><span class="n">load</span><span class="p">()[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
        <span class="n">threshold</span> <span class="o">=</span> <span class="mi">60</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">pixel1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">pixel2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">threshold</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">pixel1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">pixel2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">threshold</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span>
                <span class="n">pixel1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">pixel2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="c1">#</span>

    <span class="k">def</span> <span class="nf">ease_out_quad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ease_out_quart</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ease_out_expo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tracks_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">seconds</span><span class="p">,</span> <span class="n">ease_func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        根据轨迹离散分布生成的数学 生成  # 参考文档  https://www.jianshu.com/p/3f968958af5a</span>
<span class="sd">        成功率很高 90% 往上</span>
<span class="sd">        :param distance: 缺口位置</span>
<span class="sd">        :param seconds:  时间</span>
<span class="sd">        :param ease_func: 生成函数</span>
<span class="sd">        :return: 轨迹数组</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">distance</span> <span class="o">+=</span> <span class="mi">20</span>
        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">seconds</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">):</span>
            <span class="n">ease</span> <span class="o">=</span> <span class="n">ease_func</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">ease</span><span class="p">(</span><span class="n">t</span> <span class="o">/</span> <span class="n">seconds</span><span class="p">)</span> <span class="o">*</span> <span class="n">distance</span><span class="p">)</span>
            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offset</span> <span class="o">-</span> <span class="n">offsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">offsets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
        <span class="n">tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1"># print(tracks)</span>

        <span class="k">return</span> <span class="n">tracks</span>

    <span class="k">def</span> <span class="nf">slide_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">circle_button</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="n">variable</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        模拟操作滑块进行滑动，成功率不高，所以加上了函数后，进行循环操作</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_gap</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">))</span> <span class="o">-</span> <span class="mi">7</span> <span class="o">+</span> <span class="n">variable</span>
        <span class="c1"># print(&quot;距离:%s&quot; % distance)</span>

        <span class="n">track_list</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tracks_2</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ease_out_expo</span><span class="p">)</span>

        <span class="c1"># print(&quot;轨迹参数:&quot;, track_list)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">action</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ActionChains</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>

        <span class="n">action</span><span class="o">.</span><span class="n">click_and_hold</span><span class="p">(</span><span class="n">circle_button</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">track_list</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">move_by_offset</span><span class="p">(</span><span class="n">track</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">release</span><span class="p">(</span><span class="n">circle_button</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">page_source</span>
        <span class="c1">#    print(len(html))</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># path = &quot;hua&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">-%H-%M-%S&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;Images/&quot;</span> <span class="o">+</span> <span class="n">path</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.tianyancha.com/login&#39;</span>
        <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;web-content&quot;]/div/div[2]/div/div/div[3]/div[3]/div[1]/div[2]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;mobile&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;password&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># 点击登录按钮</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;web-content&quot;]/div/div[2]/div/div/div[3]/div[3]/div[2]/div[4]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># 上一步点击按钮有概率会点击无效，需要加上试错操作，如果点击失败后，重新点击获取截图</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># 验证码初始图片截图</span>
            <span class="n">verification_code</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[2]/div[1]/a[1]/div[1]&#39;</span><span class="p">)</span>
            <span class="n">verification_code</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r.png&#39;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;//*[@id=&quot;web-content&quot;]/div/div[2]/div/div/div[3]/div[3]/div[2]/div[4]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># 刷新验证码</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

            <span class="c1"># 验证码初始图片截图</span>
            <span class="n">verification_code</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[2]/div[1]/a[1]/div[1]&#39;</span><span class="p">)</span>
            <span class="n">verification_code</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r.png&#39;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># 定位拖动滑动的圆圈位置</span>
        <span class="n">circle_button</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[2]/div[2]&#39;</span><span class="p">)</span>
        <span class="n">circle_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># 验证码拼图图片再次截图</span>
        <span class="n">verification_code1</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[2]/div[1]/a[2]/div[1]&#39;</span><span class="p">)</span>
        <span class="n">verification_code1</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r1.png&#39;</span><span class="p">)</span>

        <span class="n">image1</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r.png&#39;</span><span class="p">)</span>
        <span class="n">image2</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r1.png&#39;</span><span class="p">)</span>

        <span class="c1"># 循环五次模拟操作滑动滑块，给与一定的差异值(初始的验证码滑动)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">]:</span>

            <span class="n">html_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">slide_block</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">circle_button</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">html_len</span> <span class="o">&gt;</span> <span class="mi">200000</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="c1"># 三次有问题说明验证码较难或者是被小怪兽吃了,方便起见刷新验证码</span>
        <span class="k">if</span> <span class="n">html_len</span> <span class="o">&lt;</span> <span class="mi">200000</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">refresh</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
                <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[3]/a[1]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># 刷新验证码</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
                <span class="n">verification_code</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[2]/div[1]/a[1]/div[1]&#39;</span><span class="p">)</span>
                <span class="n">verification_code</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r.png&#39;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
                <span class="c1"># 定位拖动滑动的圆圈位置</span>
                <span class="n">circle_button</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[2]/div[2]&#39;</span><span class="p">)</span>
                <span class="n">circle_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
                <span class="c1"># 验证码拼图图片再次截图</span>
                <span class="n">verification_code1</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s1">&#39;/html/body/div[10]/div[2]/div[2]/div[1]/div[2]/div[1]/a[2]/div[1]&#39;</span><span class="p">)</span>
                <span class="n">verification_code1</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r1.png&#39;</span><span class="p">)</span>
                <span class="n">image1</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r.png&#39;</span><span class="p">)</span>
                <span class="n">image2</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/r1.png&#39;</span><span class="p">)</span>
                <span class="n">html_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">slide_block</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">circle_button</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">html_len</span> <span class="o">&gt;</span> <span class="mi">200000</span><span class="p">:</span>
                    <span class="k">break</span>

        <span class="c1"># print(html_len)  #打印长度</span>


        <span class="k">if</span> <span class="n">html_len</span> <span class="o">&gt;</span> <span class="mi">200000</span><span class="p">:</span>
            <span class="n">cookie_items</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">get_cookies</span><span class="p">()</span>
            <span class="c1"># print(cookie_items)</span>
            <span class="n">cookie_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">cookie_dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1"># 组装cookie字符串</span>
            <span class="k">for</span> <span class="n">item_cookie</span> <span class="ow">in</span> <span class="n">cookie_items</span><span class="p">:</span>
                <span class="n">cookie_dict</span><span class="p">[</span><span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
                <span class="n">item_str</span> <span class="o">=</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;; &quot;</span>
                <span class="n">cookie_str</span> <span class="o">+=</span> <span class="n">item_str</span>
                <span class="c1"># print(item_cookie)</span>
            <span class="c1"># 打印出来看一下</span>
            <span class="c1"># print(&#39;cookie_str:&#39;, cookie_str)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># cookie_str = &#39;&#39;</span>
            <span class="n">cookie_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="c1"># return cookie_str</span>
        <span class="k">return</span> <span class="n">cookie_dict</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;开始第</span><span class="si">%s</span><span class="s2">次&quot;</span><span class="o">%</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">cookie_dict</span> <span class="o">=</span> <span class="n">TianYanChaCookies</span><span class="p">(</span><span class="s1">&#39;15251711240&#39;</span><span class="p">,</span> <span class="s1">&#39;pq8330866&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cookie_dict</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;测试</span><span class="si">%s</span><span class="s2">次&quot;</span><span class="o">%</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;成功</span><span class="si">%s</span><span class="s2">次&quot;</span><span class="o">%</span><span class="n">count</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;成功率:</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="o">/</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">cookie_dict</span><span class="p">)</span>
            <span class="c1"># print(cookie_str)</span>
</pre></div>
</td></tr></table>

<p>企查查模拟登陆代码:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Thu Jul 30 11:04:15 2020</span>
<span class="sd">启用开发者模式和JS代码注入改变navigator.webdriver的属性值为false后,登录可以成功防止webdriver检测(存在不确定行)</span>

<span class="sd">测试加开发者模式和JS代码注入的情况下，暂时测试100%成功,成功获取到cookie，代码的稳定性还有待检验</span>
<span class="sd">@author: 强延飞</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="k">class</span> <span class="nc">QiChaChaCookies</span><span class="p">():</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>

    <span class="k">def</span> <span class="nf">ease_out_quad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ease_out_quart</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ease_out_expo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tracks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">seconds</span><span class="p">,</span> <span class="n">ease_func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        根据轨迹离散分布生成的数学 生成  # 参考文档  https://www.jianshu.com/p/3f968958af5a</span>
<span class="sd">        成功率很高 90% 往上</span>
<span class="sd">        :param distance: 缺口位置</span>
<span class="sd">        :param seconds:  时间</span>
<span class="sd">        :param ease_func: 生成函数</span>
<span class="sd">        :return: 轨迹数组</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">distance</span> <span class="o">+=</span> <span class="mi">20</span>
        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">seconds</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">):</span>
            <span class="n">ease</span> <span class="o">=</span> <span class="n">ease_func</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">ease</span><span class="p">(</span><span class="n">t</span> <span class="o">/</span> <span class="n">seconds</span><span class="p">)</span> <span class="o">*</span> <span class="n">distance</span><span class="p">)</span>
            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offset</span> <span class="o">-</span> <span class="n">offsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">offsets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
        <span class="n">tracks</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1"># print(tracks)</span>

        <span class="k">return</span> <span class="n">tracks</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.qcc.com/user_login&#39;</span>  <span class="c1"># 登录地址</span>
        <span class="c1"># url = &#39;https://login.taobao.com/member/login.jhtml&#39;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
        <span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span><span class="s2">&quot;excludeSwitches&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;enable-automation&quot;</span><span class="p">])</span>
        <span class="c1"># 设置开发者模式启动，该模式下webdriver属性为正常值</span>
        <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># 使用带属性参数的谷歌浏览器</span>
        <span class="c1"># driver = webdriver.Chrome()</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>  <span class="c1"># 进行请求</span>
        <span class="n">script</span> <span class="o">=</span> <span class="s1">&#39;Object.defineProperty(navigator,&quot;webdriver&quot;,{get:() =&gt; false,});&#39;</span>  <span class="c1"># 编写js脚本</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>  <span class="c1"># 执行js脚本</span>
        <span class="c1"># 上面两行是防止网站监测到自动化测试软件</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.232</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;normalLogin&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># 找到正常的登录的元素,点击</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0232</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;nameNormal&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>  <span class="c1"># 向账户框发送账户</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.8315</span><span class="p">)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;pwdNormal&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>  <span class="c1"># 向密码框发送密码</span>
        <span class="c1"># 下面是验证码登录</span>
        <span class="c1"># 滑动验证码  存在问题：滑动滑动距离distance需要确定</span>
        <span class="n">square_button</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;nc_1_n1z&quot;]&#39;</span><span class="p">)</span>  <span class="c1"># 获得拖动滑块的按钮</span>

        <span class="n">distance</span> <span class="o">=</span> <span class="mi">370</span>  <span class="c1"># 370个px</span>

        <span class="c1"># track_list = get_track(distance)</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ActionChains</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>  <span class="c1"># 定义动作链</span>
        <span class="n">action</span><span class="o">.</span><span class="n">click_and_hold</span><span class="p">(</span><span class="n">square_button</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>  <span class="c1"># 首先一直保持按住滑块按钮</span>

        <span class="c1"># for track in track_list:</span>
        <span class="n">track_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tracks</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ease_out_expo</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">track_list</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">move_by_offset</span><span class="p">(</span><span class="n">track</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="c1"># action.move_by_offset(distance, 0)  # 向右移动一段距离,y坐标保持不变</span>


        <span class="n">action</span><span class="o">.</span><span class="n">release</span><span class="p">(</span><span class="n">square_button</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>  <span class="c1"># 释放保持滑动按钮</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 点击登录按钮</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;user_login_normal&quot;]/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="c1"># 获取cookie</span>
        <span class="n">cookie_items</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">get_cookies</span><span class="p">()</span>

        <span class="n">cookie_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">cookie_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># 组装cookie字符串</span>
        <span class="k">for</span> <span class="n">item_cookie</span> <span class="ow">in</span> <span class="n">cookie_items</span><span class="p">:</span>
            <span class="n">cookie_dict</span><span class="p">[</span><span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
            <span class="n">item_str</span> <span class="o">=</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">item_cookie</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;; &quot;</span>
            <span class="n">cookie_str</span> <span class="o">+=</span> <span class="n">item_str</span>
            <span class="c1"># print(item_cookie)</span>
        <span class="c1"># 打印出来看一下</span>
        <span class="c1"># print(&#39;cookies:&#39;, cookie_dict)</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">cookie_dict</span>

    <span class="k">def</span> <span class="nf">verify_cookie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookies</span><span class="p">):</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.qcc.com/company_getinfos?unique=d38fd1da97458b037750ff31ebd38d59&amp;companyname=</span><span class="si">%E</span><span class="s1">5%8D</span><span class="si">%97%</span><span class="s1">E4%BA%AC</span><span class="si">%E</span><span class="s1">4%B8%AD</span><span class="si">%E</span><span class="s1">6</span><span class="si">%96%</span><span class="s1">B0</span><span class="si">%E</span><span class="s1">8%B5%9B</span><span class="si">%E</span><span class="s1">5</span><span class="si">%85%</span><span class="s1">8B</span><span class="si">%E</span><span class="s1">7%A7</span><span class="si">%91%</span><span class="s1">E6%8A</span><span class="si">%80%</span><span class="s1">E6%9C</span><span class="si">%89%</span><span class="s1">E9</span><span class="si">%99%</span><span class="s1">90</span><span class="si">%E</span><span class="s1">8%B4%A3</span><span class="si">%E</span><span class="s1">4%BB%BB</span><span class="si">%E</span><span class="s1">5</span><span class="si">%85%</span><span class="s1">AC</span><span class="si">%E</span><span class="s1">5</span><span class="si">%8F</span><span class="s1">%B8&amp;p=2&amp;tab=assets&amp;box=zhuanli&amp;zlpublicationyear=&amp;zlipclist=&amp;zlkindcode=&amp;zllegalstatus=&#39;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;user-agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36&#39;</span>
        <span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>  <span class="c1"># 不好使</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span>  <span class="c1"># 通过返回的字符个数进行验证即可</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">cookie1</span> <span class="o">=</span> <span class="n">QiChaChaCookies</span><span class="p">(</span><span class="s2">&quot;15251711240&quot;</span><span class="p">,</span> <span class="s2">&quot;pq8330866&quot;</span><span class="p">)</span>
    <span class="n">cookie_dict</span> <span class="o">=</span> <span class="n">cookie1</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">cookie_dict</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cookie1</span><span class="o">.</span><span class="n">verify_cookie</span><span class="p">(</span><span class="n">cookie_dict</span><span class="p">))</span>
</pre></div>
</td></tr></table>

<h4 id="_3">检测模块<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>现在可以用生成模块来生成 Cookies，但还是免不了 Cookies 失效的问题，例如时间太长导致 Cookies 失效，或者 Cookies 使用太频繁导致无法正常请求网页。如果遇到这样的 Cookies，我们肯定不能让它继续保存在数据库里。</p>
<p>所以我们还需要增加一个定时检测模块，它负责遍历池中的所有 Cookies，同时设置好对应的检测链接，我们用一个个 Cookies 去请求这个链接。如果请求成功，或者状态码合法，那么该 Cookies 有效；如果请求失败，或者无法获取正常的数据，比如直接跳回登录页面或者跳到验证页面，那么此 Cookies 无效，我们需要将该 Cookies 从数据库中移除。</p>
<p>此 Cookies 移除之后，刚才所说的生成模块就会检测到 Cookies 的 Hash 和账号的 Hash 相比少了此账号的 Cookies，生成模块就会认为这个账号还没生成 Cookies，那么就会用此账号重新登录，此账号的 Cookies 又被重新更新。</p>
<p>检测模块需要做的就是检测 Cookies 失效，然后将其从数据中移除。</p>
<p>为了实现通用可扩展性，我们首先定义一个检测器的父类，声明一些通用组件，实现如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ValidTester</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;cookies&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;accounts&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">):</span>  <span class="c1"># 子类重写</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cookies_groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>  <span class="c1"># 获取cookies数据库的所有键值</span>
        <span class="k">for</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span> <span class="ow">in</span> <span class="n">cookies_groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">)</span>  <span class="c1"># 调用检测方法</span>
</pre></div>
</td></tr></table>

<p>在这里定义了一个父类叫作 ValidTester，在__init__() 方法里指定好站点的名称 website，</p>
<p>另外建立两个存储模块连接对象 cookies_db 和 accounts_db，分别负责操作 Cookies 和账号的 Hash，</p>
<p>run() 方法是入口，在这里是遍历了所有的 Cookies，然后调用 test() 方法进行测试，</p>
<p>在这里 test() 方法是没有实现的，也就是说我们需要写一个子类来重写这个 test() 方法，每个子类负责各自不同网站的检测，</p>
<p>如检测天眼查的就可以定义为 <code>TianYanChaValidTester</code>，实现其独有的 <code>test() 方法</code>来检测天眼查的 Cookies 是否合法，然后做相应的处理，</p>
<p>所以在这里我们还需要再加一个子类来继承这个 ValidTester，重写其 test() 方法，实现如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">requests.exceptions</span> <span class="kn">import</span> <span class="ne">ConnectionError</span>
<span class="kn">from</span> <span class="nn">cookiespool.db</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">cookiespool.config</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># 后期调度用</span>


<span class="c1"># 检测模块,用来检测cookies是否失效</span>

<span class="k">class</span> <span class="nc">ValidTester</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;cookies&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accounts_db</span> <span class="o">=</span> <span class="n">RedisClient</span><span class="p">(</span><span class="s1">&#39;accounts&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">):</span>  <span class="c1"># 子类重写</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cookies_groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>  <span class="c1"># 获取cookies数据库的所有键值</span>
        <span class="k">for</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span> <span class="ow">in</span> <span class="n">cookies_groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">)</span>  <span class="c1"># 调用检测方法</span>


<span class="k">class</span> <span class="nc">TianYanChaValidTester</span><span class="p">(</span><span class="n">ValidTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;tianyancha&#39;</span><span class="p">):</span>
        <span class="n">ValidTester</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>

    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">):</span>  <span class="c1"># 循环进行检测</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;正在测试</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s1">&#39;用户名&#39;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cookies</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cookies</span><span class="p">)</span>  <span class="c1"># 将前面转换成json的cookies字典重新转换一下</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies不合法&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>  <span class="c1"># 转换出错就是cookies有问题呗</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;删除</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>  <span class="c1"># 下面开始测试</span>
            <span class="n">test_url</span> <span class="o">=</span> <span class="n">TEST_URL_MAP</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">]</span>  <span class="c1"># 从config中获取该网站对应的测试网址</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">test_url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies有效&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies失效&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;删除</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;发生异常&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">QiChaChaValidTester</span><span class="p">(</span><span class="n">ValidTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="s1">&#39;qichacha&#39;</span><span class="p">):</span>
        <span class="n">ValidTester</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">website</span>

    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">cookies</span><span class="p">):</span>  <span class="c1"># 循环进行检测</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;正在测试</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s1">&#39;用户名&#39;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cookies</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cookies</span><span class="p">)</span>  <span class="c1"># 将前面转换成json的cookies字典重新转换一下</span>
            <span class="c1"># print(cookies)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies不合法&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>  <span class="c1"># 转换出错就是cookies有问题呗</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cookies_db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;删除</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>  <span class="c1"># 下面开始测试</span>
            <span class="n">test_url</span> <span class="o">=</span> <span class="n">TEST_URL_MAP</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">]</span>  <span class="c1"># 从config中获取该网站对应的测试网址</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;user-agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36&#39;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">test_url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies有效&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies失效&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
                <span class="c1"># self.cookies_db.delete(username)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;删除</span><span class="si">%s</span><span class="s1">_Cookies&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;发生异常&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">QiChaChaValidTester</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>test() 方法首先将 Cookies 转化为字典，检测 Cookies 的格式，如果格式不正确，直接将其删除，如果格式没问题，那么就拿此 Cookies 请求被检测的 URL。</p>
<p>test() 方法在这里检测天眼查，检测的 URL 可以是某个 Ajax 接口，为了实现可配置化，我们将测试 URL 也定义成字典，如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">TEST_URL_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;tianyancha&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.tianyancha.com/relation&#39;</span><span class="p">,</span>
    <span class="s1">&#39;qichacha&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.qcc.com/company_getinfos?unique=d38fd1da97458b037750ff31ebd38d59&amp;companyname=</span><span class="si">%E</span><span class="s1">5%8D</span><span class="si">%97%</span><span class="s1">E4%BA%AC</span><span class="si">%E</span><span class="s1">4%B8%AD</span><span class="si">%E</span><span class="s1">6</span><span class="si">%96%</span><span class="s1">B0</span><span class="si">%E</span><span class="s1">8%B5%9B</span><span class="si">%E</span><span class="s1">5</span><span class="si">%85%</span><span class="s1">8B</span><span class="si">%E</span><span class="s1">7%A7</span><span class="si">%91%</span><span class="s1">E6%8A</span><span class="si">%80%</span><span class="s1">E6%9C</span><span class="si">%89%</span><span class="s1">E9</span><span class="si">%99%</span><span class="s1">90</span><span class="si">%E</span><span class="s1">8%B4%A3</span><span class="si">%E</span><span class="s1">4%BB%BB</span><span class="si">%E</span><span class="s1">5</span><span class="si">%85%</span><span class="s1">AC</span><span class="si">%E</span><span class="s1">5</span><span class="si">%8F</span><span class="s1">%B8&amp;p=2&amp;tab=assets&amp;box=zhuanli&amp;zlpublicationyear=&amp;zlipclist=&amp;zlkindcode=&amp;zllegalstatus=&#39;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>如果要扩展其他站点，我们可以统一在字典里添加。对天眼查来说，我们用 Cookies 去请求目标站点，同时禁止重定向和设置超时时间，得到响应之后检测其返回状态码。如果直接返回 200 状态码，则 Cookies 有效，否则可能遇到了 302 跳转等情况，一般会跳转到登录页面，则 Cookies 已失效。如果 Cookies 失效，我们将其从 Cookies 的 Hash 里移除即可。</p>
<h4 id="_4">接口模块<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>生成模块和检测模块如果定时运行就可以完成 Cookies 实时检测和更新。但是 Cookies 最终还是需要给爬虫来用，同时一个 Cookies 池可供多个爬虫使用，所以我们还需要定义一个 Web 接口，爬虫访问此接口便可以取到随机的 Cookies。我们采用 Flask 来实现接口的搭建，代码如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">g</span>
<span class="kn">from</span> <span class="nn">cookiespool.config</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">cookiespool.db</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;app&#39;</span><span class="p">]</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>   <span class="c1"># 初始界面</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;h2&gt;Welcome to Cookie Pool System&lt;/h2&gt;&#39;</span>


<span class="k">def</span> <span class="nf">get_conn</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    获取</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">website</span> <span class="ow">in</span> <span class="n">GENERATOR_MAP</span><span class="p">:</span>  <span class="c1">#产生器类(可以多个)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">website</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span><span class="p">):</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;_cookies&#39;</span><span class="p">,</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;RedisClient&#39;</span> <span class="o">+</span> <span class="s1">&#39;(&quot;cookies&quot;, &quot;&#39;</span> <span class="o">+</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;&quot;)&#39;</span><span class="p">))</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;_accounts&#39;</span><span class="p">,</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;RedisClient&#39;</span> <span class="o">+</span> <span class="s1">&#39;(&quot;accounts&quot;, &quot;&#39;</span> <span class="o">+</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;&quot;)&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">g</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;website&gt;/random&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">random</span><span class="p">(</span><span class="n">website</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    获取随机的Cookie, 访问地址如 /weibo/random</span>
<span class="sd">    :return: 随机Cookie</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">get_conn</span><span class="p">()</span>
    <span class="n">cookies</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;_cookies&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cookies</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;website&gt;/add/&lt;username&gt;/&lt;password&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">website</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    添加用户, 访问地址如 /weibo/add/user/password</span>
<span class="sd">    :param website: 站点</span>
<span class="sd">    :param username: 用户名</span>
<span class="sd">    :param password: 密码</span>
<span class="sd">    :return: </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">get_conn</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
    <span class="nb">getattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;_accounts&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">})</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;website&gt;/count&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">website</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    获取Cookies总数</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">get_conn</span><span class="p">()</span>
    <span class="n">count</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;_cookies&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="n">count</span><span class="p">})</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>我们同样需要实现通用的配置来对接不同的站点，所以接口链接的第一个字段定义为站点名称，第二个字段定义为获取的方法，例如，/tianyancha/random 是获取天眼查的随机 Cookies，/qichacha/random 是获取企查查的随机 Cookies。</p>
<h4 id="_5">调度模块<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>最后，我们再加一个调度模块让这几个模块配合运行起来，主要的工作就是驱动几个模块定时运行，同时各个模块需要在不同进程上运行，实现如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>

<span class="kn">from</span> <span class="nn">cookiespool.api</span> <span class="kn">import</span> <span class="n">app</span>
<span class="kn">from</span> <span class="nn">cookiespool.config</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">cookiespool.generator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">cookiespool.tester</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">class</span> <span class="nc">Scheduler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">valid_cookie</span><span class="p">(</span><span class="n">cycle</span><span class="o">=</span><span class="n">CYCLE</span><span class="p">):</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cookies检测进程开始运行&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">website</span><span class="p">,</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">TESTER_MAP</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1">#Python 字典(Dictionary) items() 函数以列表返回可遍历的(键, 值) 元组数组。</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies检测进程开始运行&#39;</span> <span class="o">%</span> <span class="n">website</span><span class="p">)</span>
                    <span class="n">tester</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">cls</span> <span class="o">+</span> <span class="s1">&#39;(website=&quot;&#39;</span> <span class="o">+</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;&quot;)&#39;</span><span class="p">)</span>  <span class="c1">#动态创建类对象(里面的字典是站点名对应的生成模块类)</span>
                    <span class="n">tester</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies检测进程结束运行&#39;</span><span class="o">%</span><span class="n">website</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">tester</span>  <span class="c1">#对象删除</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">cycle</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">generate_cookie</span><span class="p">(</span><span class="n">cycle</span><span class="o">=</span><span class="n">CYCLE</span><span class="p">):</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cookies生成进程开始运行&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">website</span><span class="p">,</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">GENERATOR_MAP</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies生成进程开始运行&#39;</span> <span class="o">%</span> <span class="n">website</span><span class="p">)</span>
                    <span class="n">generator</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">cls</span> <span class="o">+</span> <span class="s1">&#39;(website=&quot;&#39;</span> <span class="o">+</span> <span class="n">website</span> <span class="o">+</span> <span class="s1">&#39;&quot;)&#39;</span><span class="p">)</span>
                    <span class="n">generator</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_Cookies生成进程结束运行&#39;</span><span class="o">%</span><span class="n">website</span><span class="p">)</span>
                    <span class="c1"># generator.close()   #用不上是用来结束浏览器的</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">cycle</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">api</span><span class="p">():</span>  <span class="c1">#接口</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;API接口开始运行&#39;</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">API_HOST</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">API_PORT</span><span class="p">)</span>

    <span class="c1"># @staticmethod 静态方法只是名义上归属类管理，但是不能使用类变量和实例变量，是类的工具包</span>
    <span class="c1"># 放在函数前（该函数不传入self或者cls），所以不能访问类属性和实例属性</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">API_PROCESS</span><span class="p">:</span> <span class="c1">#如果是True就开起api接口</span>
            <span class="n">api_process</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">Scheduler</span><span class="o">.</span><span class="n">api</span><span class="p">)</span>  <span class="c1">#</span>
            <span class="n">api_process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">GENERATOR_PROCESS</span><span class="p">:</span> <span class="c1">#开启生成模块进程</span>
            <span class="n">generate_process</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">Scheduler</span><span class="o">.</span><span class="n">generate_cookie</span><span class="p">)</span>
            <span class="n">generate_process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">VALID_PROCESS</span><span class="p">:</span>
            <span class="n">valid_process</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">Scheduler</span><span class="o">.</span><span class="n">valid_cookie</span><span class="p">)</span>
            <span class="n">valid_process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="p">()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>这里用到了两个重要的配置，即产生模块类和测试模块类的字典配置，如下所示：</p>
<p>这样的配置是为了方便动态扩展使用的，键名为站点名称，键值为类名。如需要配置其他站点可以在字典中添加.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># 产生器类，如扩展其他站点，请在此配置</span>
<span class="n">GENERATOR_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;tianyancha&#39;</span><span class="p">:</span> <span class="s1">&#39;TianYanChaCookiesGenerator&#39;</span><span class="p">,</span>
    <span class="s1">&#39;qichacha&#39;</span><span class="p">:</span> <span class="s1">&#39;QiChaChaCookiesGenerator&#39;</span>
<span class="p">}</span>

<span class="c1"># 测试类，如扩展其他站点，请在此配置</span>
<span class="n">TESTER_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;tianyancha&#39;</span><span class="p">:</span> <span class="s1">&#39;TianYanChaValidTester&#39;</span><span class="p">,</span>
    <span class="s1">&#39;qichacha&#39;</span><span class="p">:</span> <span class="s1">&#39;QiChaChaValidTester&#39;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Scheduler 里将字典进行遍历，同时利用 eval() 动态新建各个类的对象，调用其入口 run() 方法运行各个模块。</p>
<p>同时，各个模块的多进程使用了 multiprocessing 中的 Process 类，调用其 start() 方法即可启动各个进程。</p>
<p>另外，各个模块还设有模块开关，我们可以在配置文件中自由设置开关的开启和关闭，如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># 产生模块开关</span>
<span class="n">GENERATOR_PROCESS</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># 验证模块开关</span>
<span class="n">VALID_PROCESS</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># 接口模块开关</span>
<span class="n">API_PROCESS</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</td></tr></table>

<p>定义为 True 即可开启该模块，定义为 False 即关闭此模块。</p>
<p>至此，我们的 Cookies 就全部完成了。接下来我们将模块同时开启，启动调度器，控制台类似输出如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">API接口开始运行</span>
 <span class="o">*</span> <span class="n">Serving</span> <span class="n">Flask</span> <span class="n">app</span> <span class="s2">&quot;cookiespool.api&quot;</span> <span class="p">(</span><span class="n">lazy</span> <span class="n">loading</span><span class="p">)</span>
 <span class="o">*</span> <span class="n">Environment</span><span class="p">:</span> <span class="n">production</span>
   <span class="n">WARNING</span><span class="p">:</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">development</span> <span class="n">server</span><span class="o">.</span> <span class="n">Do</span> <span class="ow">not</span> <span class="n">use</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">production</span> <span class="n">deployment</span><span class="o">.</span>
   <span class="n">Use</span> <span class="n">a</span> <span class="n">production</span> <span class="n">WSGI</span> <span class="n">server</span> <span class="n">instead</span><span class="o">.</span>
 <span class="o">*</span> <span class="n">Debug</span> <span class="n">mode</span><span class="p">:</span> <span class="n">off</span>
 <span class="o">*</span> <span class="n">Running</span> <span class="n">on</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span> <span class="p">(</span><span class="n">Press</span> <span class="n">CTRL</span><span class="o">+</span><span class="n">C</span> <span class="n">to</span> <span class="n">quit</span><span class="p">)</span>
<span class="n">Cookies生成进程开始运行</span>
<span class="n">tianyancha_Cookies生成进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">正在生成tianyancha_Cookies</span> <span class="n">账号</span> <span class="mi">15251711240</span> <span class="n">密码</span> <span class="n">pq8330866</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
<span class="n">成功获取到tianyancha_Cookies</span> <span class="p">{</span><span class="s1">&#39;tyc-user-phone&#39;</span><span class="p">:</span> <span class="s1">&#39;%255B</span><span class="si">%252215251711240%</span><span class="s1">2522%255D&#39;</span><span class="p">,</span> <span class="s1">&#39;auth_token&#39;</span><span class="p">:</span> <span class="s1">&#39;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNTI1MTcxMTI0MCIsImlhdCI6MTYwMDIzNTY2NywiZXhwIjoxNjMxNzcxNjY3fQ.GJYACboAi6yPyXBR8YHC8lQwxFs6HhBSqqiKEOD_vLgabawRlftWVk44YgSUyLaM2YxnyPMSih3-Qvy2Mg-M5g&#39;</span><span class="p">,</span> <span class="s1">&#39;tyc-user-info&#39;</span><span class="p">:</span> <span class="s1">&#39;{</span><span class="si">%22c</span><span class="s1">laimEditPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22vipToMonth%22:</span><span class="si">%22f</span><span class="s1">alse</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22e</span><span class="s1">xplainPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22personalClaimType%22:%22none</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22i</span><span class="s1">ntegrity%22:</span><span class="si">%2210%</span><span class="s1">25</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">tate%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">core%22:</span><span class="si">%2229%</span><span class="s1">22%2C</span><span class="si">%22a</span><span class="s1">nnouncementPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22messageShowRedPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bidSubscribe%22:%22-1</span><span class="si">%22%</span><span class="s1">2C%22vipManager%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22o</span><span class="s1">num%22:</span><span class="si">%220%</span><span class="s1">22%2C%22monitorUnreadCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22d</span><span class="s1">iscussCommendCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">howPost%22:null%2C%22messageBubbleCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22c</span><span class="s1">laimPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22token%22:</span><span class="si">%22e</span><span class="s1">yJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNTI1MTcxMTI0MCIsImlhdCI6MTYwMDIzNTY2NywiZXhwIjoxNjMxNzcxNjY3fQ.GJYACboAi6yPyXBR8YHC8lQwxFs6HhBSqqiKEOD_vLgabawRlftWVk44YgSUyLaM2YxnyPMSih3-Qvy2Mg-M5g</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">choolAuthStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22u</span><span class="s1">serId%22:</span><span class="si">%22215645574%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">coreUnit%22:</span><span class="si">%22%</span><span class="s1">22%2C</span><span class="si">%22r</span><span class="s1">edPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22myTidings%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22c</span><span class="s1">ompanyAuthStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22o</span><span class="s1">riginalScore%22:</span><span class="si">%2229%</span><span class="s1">22%2C%22myAnswerCount%22:</span><span class="si">%220%</span><span class="s1">22%2C%22myQuestionCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">ignUp%22:</span><span class="si">%220%</span><span class="s1">22%2C%22privateMessagePointWeb%22:</span><span class="si">%220%</span><span class="s1">22%2C%22nickname%22:</span><span class="si">%22%</span><span class="s1">E5%AE%8B</span><span class="si">%E</span><span class="s1">7</span><span class="si">%8E%89%</span><span class="s1">22%2C%22privateMessagePoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bossStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22i</span><span class="s1">sClaim%22:</span><span class="si">%220%</span><span class="s1">22%2C%22yellowDiamondEndTime%22:</span><span class="si">%220%</span><span class="s1">22%2C%22yellowDiamondStatus%22:%22-1</span><span class="si">%22%</span><span class="s1">2C%22pleaseAnswerCount%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bizCardUnread%22:</span><span class="si">%220%</span><span class="s1">22%2C%22vnum%22:</span><span class="si">%220%</span><span class="s1">22%2C%22mobile%22:</span><span class="si">%2215251711240%</span><span class="s1">22}&#39;</span><span class="p">,</span> <span class="s1">&#39;_utm&#39;</span><span class="p">:</span> <span class="s1">&#39;527bcd867c9b436b877d1ae7e1bd1071&#39;</span><span class="p">,</span> <span class="s1">&#39;token&#39;</span><span class="p">:</span> <span class="s1">&#39;97158fb0b8724e8e8d06f7f4f14e48c3&#39;</span><span class="p">,</span> <span class="s1">&#39;_gat_gtag_UA_123487620_1&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;_gid&#39;</span><span class="p">:</span> <span class="s1">&#39;GA1.2.1405745780.1600235679&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lvt_e92c8d65d92d534b0fc290df538b4758&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235678&#39;</span><span class="p">,</span> <span class="s1">&#39;csrfToken&#39;</span><span class="p">:</span> <span class="s1">&#39;41s2fNUu123UDmg5Fh8V8o3n&#39;</span><span class="p">,</span> <span class="s1">&#39;TYCID&#39;</span><span class="p">:</span> <span class="s1">&#39;023d5e60f7e111eab7ea6fcdde9d7352&#39;</span><span class="p">,</span> <span class="s1">&#39;bannerFlag&#39;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="s1">&#39;aliyungf_tc&#39;</span><span class="p">:</span> <span class="s1">&#39;AQAAALrxxX3MIQgA/HVTKFdYdjbMffcG&#39;</span><span class="p">,</span> <span class="s1">&#39;_ga&#39;</span><span class="p">:</span> <span class="s1">&#39;GA1.2.2042896897.1600235679&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lpvt_e92c8d65d92d534b0fc290df538b4758&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235678&#39;</span><span class="p">,</span> <span class="s1">&#39;ssuid&#39;</span><span class="p">:</span> <span class="s1">&#39;9680156877&#39;</span><span class="p">}</span>
<span class="n">成功保存tianyancha_Cookies</span>
<span class="n">正在生成tianyancha_Cookies</span> <span class="n">账号</span> <span class="mi">17824825277</span> <span class="n">密码</span> <span class="n">Hua</span><span class="o">@</span><span class="mi">123123</span>
<span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
<span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">成功获取到tianyancha_Cookies</span> <span class="p">{</span><span class="s1">&#39;tyc-user-phone&#39;</span><span class="p">:</span> <span class="s1">&#39;%255B</span><span class="si">%252217824825277%</span><span class="s1">2522%255D&#39;</span><span class="p">,</span> <span class="s1">&#39;auth_token&#39;</span><span class="p">:</span> <span class="s1">&#39;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNzgyNDgyNTI3NyIsImlhdCI6MTYwMDIzNTc1OSwiZXhwIjoxNjMxNzcxNzU5fQ.zmvPxQf-F3FvC7mIHjvlNpx35XhYWq6lGT5lQTr8yD9DjUgiWZWdeW1D95aYidxLHGMlOGD87slMqcUzz-Rfog&#39;</span><span class="p">,</span> <span class="s1">&#39;tyc-user-info&#39;</span><span class="p">:</span> <span class="s1">&#39;{</span><span class="si">%22c</span><span class="s1">laimEditPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22vipToMonth%22:</span><span class="si">%22f</span><span class="s1">alse</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22e</span><span class="s1">xplainPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22personalClaimType%22:%22none</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22i</span><span class="s1">ntegrity%22:</span><span class="si">%2210%</span><span class="s1">25</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">tate%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">core%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22a</span><span class="s1">nnouncementPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22messageShowRedPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bidSubscribe%22:%22-1</span><span class="si">%22%</span><span class="s1">2C%22vipManager%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22o</span><span class="s1">num%22:</span><span class="si">%220%</span><span class="s1">22%2C%22monitorUnreadCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22d</span><span class="s1">iscussCommendCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">howPost%22:null%2C%22messageBubbleCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22c</span><span class="s1">laimPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22token%22:</span><span class="si">%22e</span><span class="s1">yJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNzgyNDgyNTI3NyIsImlhdCI6MTYwMDIzNTc1OSwiZXhwIjoxNjMxNzcxNzU5fQ.zmvPxQf-F3FvC7mIHjvlNpx35XhYWq6lGT5lQTr8yD9DjUgiWZWdeW1D95aYidxLHGMlOGD87slMqcUzz-Rfog</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">choolAuthStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22u</span><span class="s1">serId%22:</span><span class="si">%22220971292%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">coreUnit%22:</span><span class="si">%22%</span><span class="s1">22%2C</span><span class="si">%22r</span><span class="s1">edPoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22myTidings%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22c</span><span class="s1">ompanyAuthStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22o</span><span class="s1">riginalScore%22:</span><span class="si">%220%</span><span class="s1">22%2C%22myAnswerCount%22:</span><span class="si">%220%</span><span class="s1">22%2C%22myQuestionCount%22:</span><span class="si">%220%</span><span class="s1">22%2C</span><span class="si">%22s</span><span class="s1">ignUp%22:</span><span class="si">%220%</span><span class="s1">22%2C%22privateMessagePointWeb%22:</span><span class="si">%220%</span><span class="s1">22%2C%22nickname%22:</span><span class="si">%22%</span><span class="s1">E9</span><span class="si">%83%</span><span class="s1">91</span><span class="si">%E</span><span class="s1">6%A1</span><span class="si">%93%</span><span class="s1">E5</span><span class="si">%85%</span><span class="s1">AC</span><span class="si">%22%</span><span class="s1">2C%22privateMessagePoint%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bossStatus%22:</span><span class="si">%222%</span><span class="s1">22%2C</span><span class="si">%22i</span><span class="s1">sClaim%22:</span><span class="si">%220%</span><span class="s1">22%2C%22yellowDiamondEndTime%22:</span><span class="si">%220%</span><span class="s1">22%2C%22yellowDiamondStatus%22:%22-1</span><span class="si">%22%</span><span class="s1">2C%22pleaseAnswerCount%22:</span><span class="si">%220%</span><span class="s1">22%2C%22bizCardUnread%22:</span><span class="si">%220%</span><span class="s1">22%2C%22vnum%22:</span><span class="si">%220%</span><span class="s1">22%2C%22mobile%22:</span><span class="si">%2217824825277%</span><span class="s1">22}&#39;</span><span class="p">,</span> <span class="s1">&#39;_utm&#39;</span><span class="p">:</span> <span class="s1">&#39;eea988a9d80a4b22aaa611da2d302ce4&#39;</span><span class="p">,</span> <span class="s1">&#39;token&#39;</span><span class="p">:</span> <span class="s1">&#39;a7f1444be7084fe4ab90878420d27db6&#39;</span><span class="p">,</span> <span class="s1">&#39;_gid&#39;</span><span class="p">:</span> <span class="s1">&#39;GA1.2.1752883369.1600235724&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lvt_e92c8d65d92d534b0fc290df538b4758&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235723&#39;</span><span class="p">,</span> <span class="s1">&#39;csrfToken&#39;</span><span class="p">:</span> <span class="s1">&#39;oTteGXg0nPji3lDFi1UfXbow&#39;</span><span class="p">,</span> <span class="s1">&#39;TYCID&#39;</span><span class="p">:</span> <span class="s1">&#39;1cf238c0f7e111eaaa7f59c93dcdbeba&#39;</span><span class="p">,</span> <span class="s1">&#39;bannerFlag&#39;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="s1">&#39;aliyungf_tc&#39;</span><span class="p">:</span> <span class="s1">&#39;AQAAAKzQ4kudKAUA/HVTKE4K/Qvb2WjX&#39;</span><span class="p">,</span> <span class="s1">&#39;_ga&#39;</span><span class="p">:</span> <span class="s1">&#39;GA1.2.470793428.1600235724&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lpvt_e92c8d65d92d534b0fc290df538b4758&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235723&#39;</span><span class="p">,</span> <span class="s1">&#39;ssuid&#39;</span><span class="p">:</span> <span class="s1">&#39;8857380909&#39;</span><span class="p">}</span>
<span class="n">成功保存tianyancha_Cookies</span>
<span class="n">tianyancha_所有账号都已经成功获取Cookies</span>
<span class="n">tianyancha_Cookies生成进程结束运行</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
<span class="n">qichacha_Cookies生成进程开始运行</span>
<span class="n">正在生成qichacha_Cookies</span> <span class="n">账号</span> <span class="mi">15251711240</span> <span class="n">密码</span> <span class="n">pq8330866</span>
<span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">17824825277</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">17824825277</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">成功获取到qichacha_Cookies</span> <span class="p">{</span><span class="s1">&#39;zg_de1d1a35bfa24ce29bbf2c7eb17e6c4f&#39;</span><span class="p">:</span> <span class="s1">&#39;%7B</span><span class="si">%22s</span><span class="s1">id</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235857412%</span><span class="s1">2C</span><span class="si">%22u</span><span class="s1">pdated</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235877453%</span><span class="s1">2C</span><span class="si">%22i</span><span class="s1">nfo</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235857419%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">uperProperty</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C%22platform</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22u</span><span class="s1">tm</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22r</span><span class="s1">eferrerDomain</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22c</span><span class="s1">uid</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22b5109d19364a4ccfe887cd6279637a79</span><span class="si">%22%</span><span class="s1">7D&#39;</span><span class="p">,</span> <span class="s1">&#39;hasShow&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lpvt_78f134d5a9ac3f92524914d0247e70cb&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235876&#39;</span><span class="p">,</span> <span class="s1">&#39;zg_did&#39;</span><span class="p">:</span> <span class="s1">&#39;%7B</span><span class="si">%22d</span><span class="s1">id</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22174957d65ff5c7-00a1fb2350fadb-333769-15f900-174957d6600a9</span><span class="si">%22%</span><span class="s1">7D&#39;</span><span class="p">,</span> <span class="s1">&#39;QCCSESSID&#39;</span><span class="p">:</span> <span class="s1">&#39;fnkmuqd65juaiq8m7uufe3fis7&#39;</span><span class="p">,</span> <span class="s1">&#39;CNZZDATA1254842228&#39;</span><span class="p">:</span> <span class="s1">&#39;299503459-1600234173-%7C1600234173&#39;</span><span class="p">,</span> <span class="s1">&#39;_uab_collina&#39;</span><span class="p">:</span> <span class="s1">&#39;160023585206261917340225&#39;</span><span class="p">,</span> <span class="s1">&#39;UM_distinctid&#39;</span><span class="p">:</span> <span class="s1">&#39;174957d529b6b4-0b84b350038d07-333769-15f900-174957d529c705&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lvt_78f134d5a9ac3f92524914d0247e70cb&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235856&#39;</span><span class="p">,</span> <span class="s1">&#39;acw_tc&#39;</span><span class="p">:</span> <span class="s1">&#39;a3b5219716002358117835851ed983e9f1ac70bb232126be179a15717c&#39;</span><span class="p">}</span>
<span class="n">成功保存qichacha_Cookies</span>
<span class="n">正在生成qichacha_Cookies</span> <span class="n">账号</span> <span class="mi">17824825277</span> <span class="n">密码</span> <span class="n">Hua</span><span class="o">@</span><span class="mi">123123</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">正在测试qichacha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">qichacha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
<span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">17824825277</span>
<span class="n">成功获取到qichacha_Cookies</span> <span class="p">{</span><span class="s1">&#39;zg_de1d1a35bfa24ce29bbf2c7eb17e6c4f&#39;</span><span class="p">:</span> <span class="s1">&#39;%7B</span><span class="si">%22s</span><span class="s1">id</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235898018%</span><span class="s1">2C</span><span class="si">%22u</span><span class="s1">pdated</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235920654%</span><span class="s1">2C</span><span class="si">%22i</span><span class="s1">nfo</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%201600235898021%</span><span class="s1">2C</span><span class="si">%22s</span><span class="s1">uperProperty</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C%22platform</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22u</span><span class="s1">tm</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22%7B%7D</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22r</span><span class="s1">eferrerDomain</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22</span><span class="si">%22%</span><span class="s1">2C</span><span class="si">%22c</span><span class="s1">uid</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">2261785dc2271156fd5b61cb8e8b04cede</span><span class="si">%22%</span><span class="s1">7D&#39;</span><span class="p">,</span> <span class="s1">&#39;hasShow&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;_uab_collina&#39;</span><span class="p">:</span> <span class="s1">&#39;160023589773311989102072&#39;</span><span class="p">,</span> <span class="s1">&#39;CNZZDATA1254842228&#39;</span><span class="p">:</span> <span class="s1">&#39;595383533-1600234173-%7C1600234173&#39;</span><span class="p">,</span> <span class="s1">&#39;QCCSESSID&#39;</span><span class="p">:</span> <span class="s1">&#39;9rdbva06s710eu6lafmbp3dg63&#39;</span><span class="p">,</span> <span class="s1">&#39;UM_distinctid&#39;</span><span class="p">:</span> <span class="s1">&#39;174957e04ea701-0310aaa697eb4d-333769-15f900-174957e04eb9d&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lpvt_78f134d5a9ac3f92524914d0247e70cb&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235921&#39;</span><span class="p">,</span> <span class="s1">&#39;zg_did&#39;</span><span class="p">:</span> <span class="s1">&#39;%7B</span><span class="si">%22d</span><span class="s1">id</span><span class="si">%22%</span><span class="s1">3A</span><span class="si">%20%</span><span class="s1">22174957e049d582-09aba916fd4f93-333769-15f900-174957e049e679</span><span class="si">%22%</span><span class="s1">7D&#39;</span><span class="p">,</span> <span class="s1">&#39;Hm_lvt_78f134d5a9ac3f92524914d0247e70cb&#39;</span><span class="p">:</span> <span class="s1">&#39;1600235899&#39;</span><span class="p">,</span> <span class="s1">&#39;acw_tc&#39;</span><span class="p">:</span> <span class="s1">&#39;a3b5219616002358553913747e5e08f944621ee29cac4b5353647db690&#39;</span><span class="p">}</span>
<span class="n">成功保存qichacha_Cookies</span>
<span class="n">qichacha_所有账号都已经成功获取Cookies</span>
<span class="n">qichacha_Cookies生成进程结束运行</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">17824825277</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">Cookies生成进程开始运行</span>
<span class="n">tianyancha_Cookies生成进程开始运行</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">正在测试qichacha_Cookies</span> <span class="n">用户名</span> <span class="mi">17824825277</span>
<span class="n">tianyancha_所有账号都已经成功获取Cookies</span>
<span class="n">tianyancha_Cookies生成进程结束运行</span>
<span class="n">qichacha_Cookies有效</span> <span class="mi">17824825277</span>
<span class="n">正在测试qichacha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">qichacha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
<span class="n">tianyancha</span>
<span class="n">qichacha</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">-</span> <span class="o">-</span> <span class="p">[</span><span class="mi">16</span><span class="o">/</span><span class="n">Sep</span><span class="o">/</span><span class="mi">2020</span> <span class="mi">13</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">31</span><span class="p">]</span> <span class="s2">&quot;GET /qichacha/random HTTP/1.1&quot;</span> <span class="mi">200</span> <span class="o">-</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">-</span> <span class="o">-</span> <span class="p">[</span><span class="mi">16</span><span class="o">/</span><span class="n">Sep</span><span class="o">/</span><span class="mi">2020</span> <span class="mi">13</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">31</span><span class="p">]</span> <span class="s2">&quot;GET /favicon.ico HTTP/1.1&quot;</span> <span class="mi">404</span> <span class="o">-</span>
<span class="n">qichacha_Cookies生成进程开始运行</span>
<span class="n">Cookies检测进程开始运行</span>
<span class="n">tianyancha_Cookies检测进程开始运行</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">17824825277</span>
<span class="n">qichacha_所有账号都已经成功获取Cookies</span>
<span class="n">qichacha_Cookies生成进程结束运行</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">17824825277</span>
<span class="n">正在测试tianyancha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_Cookies检测进程结束运行</span>
<span class="n">Cookies生成进程开始运行</span>
<span class="n">tianyancha_Cookies生成进程开始运行</span>
<span class="n">qichacha_Cookies检测进程开始运行</span>
<span class="n">正在测试qichacha_Cookies</span> <span class="n">用户名</span> <span class="mi">17824825277</span>
<span class="n">qichacha_Cookies有效</span> <span class="mi">17824825277</span>
<span class="n">正在测试qichacha_Cookies</span> <span class="n">用户名</span> <span class="mi">15251711240</span>
<span class="n">tianyancha_所有账号都已经成功获取Cookies</span>
<span class="n">tianyancha_Cookies生成进程结束运行</span>
<span class="n">qichacha_Cookies有效</span> <span class="mi">15251711240</span>
<span class="n">qichacha_Cookies检测进程结束运行</span>
</pre></div>
</td></tr></table>

<p>以上所示是程序运行的控制台输出内容，我们从中可以看到各个模块都正常启动，测试模块逐个测试 Cookies，生成模块获取尚未生成 Cookies 的账号的 Cookies，各个模块并行运行，互不干扰。</p>
<p>我们可以访问接口获取随机的 Cookies，如图 10-13 所示。</p>
<p><img alt="image-20200916135945220" src="../028 cookies池搭建.image/image-20200916135945220.png" /></p>
<p>图 10-13 接口页面</p>
<p>爬虫只需要请求该接口就可以实现随机 Cookies 的获取。</p>
<h3 id="5">5. 本节代码<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<p>本节代码地址：<a href="https://github.com/Python3WebSpider/CookiesPool">https://github.com/Python3WebSpider/CookiesPool</a>。</p>
<h3 id="6">6. 结语<a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<p>以上内容便是 Cookies 池的用法，后文中我们会利用该 Cookies 池和之前所讲的代理池来进行新浪微博的大规模爬取。都已</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../029 Splash的使用/" title="029 Splash的使用" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                029 Splash的使用
              </span>
            </div>
          </a>
        
        
          <a href="../027 爬取半次元图片/" title="027 爬取半次元图片" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                027 爬取半次元图片
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        <!-- powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a> -->
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>